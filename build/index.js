!function(){var e,t={4:function(e,t,l){"use strict";var o={};l.r(o),l.d(o,{getTemplateData:function(){return Z},getTemplates:function(){return Q}});var r={};l.r(r),l.d(r,{apiFetch:function(){return ee},setTemplateData:function(){return le},setTemplates:function(){return te}});var n={};l.r(n),l.d(n,{API_FETCH:function(){return oe}});var a={};l.r(a),l.d(a,{getTemplateData:function(){return ne},getTemplates:function(){return re}});var i=window.wp.element,c=window.wp.data,s=window.wp.plugins,p=window.wp.editPost,u=window.wp.blocks,m=window.wp.components,d=window.wp.i18n,h=window.wp.coreData;function g(e){const{type:t,rule:l,index:o,onChange:r}=e,n=(0,c.useSelect)((e=>e("core").getEntityRecords("postType",t,{per_page:-1})));let a=[],s=[];const p=l.object;return null!==n&&(a=n.map((e=>e.title.raw)),s=p.map((e=>{const t=n.find((t=>t.id===parseInt(e)));return!(void 0===t||!t)&&t.title.raw})).filter((e=>!!e))),(0,i.createElement)(m.FormTokenField,{value:s,suggestions:a,placeholder:(0,d.__)("Type to choose an item","popper"),onChange:e=>{const t=[];e.forEach((e=>{const l=n.find((t=>t.title.raw===e));void 0!==l&&t.push(l.id)})),r("object",t,o)},maxSuggestions:5,__experimentalShowHowTo:!1})}function f(e){const[t,l]=(0,i.useState)([]),{index:o,onDelete:r,rule:n}=e;return(0,i.useEffect)((()=>{l(window.popper.positions)}),[]),(0,i.createElement)(m.Flex,{align:"start",justify:"start",className:"popper-modal-row"},(0,i.createElement)(m.FlexItem,null,(0,i.createElement)("label",{className:"components-form-token-field__label",htmlFor:"select"},(0,d.__)("Where","popper")),(0,i.createElement)("select",{onChange:t=>{e.onChange("rule",t.target.value,o)},value:n.rule,className:"components-select-control__input"},(0,i.createElement)("option",{value:""},(0,d.__)("Select one…","popper")),Object.keys(t).map(((e,l)=>(0,i.createElement)("optgroup",{label:t[e].label,key:l},Object.keys(t[e].locations).map((l=>(0,i.createElement)("option",{value:l,key:l},t[e].locations[l])))))))),["post","taxonomy"].includes((()=>{let e="";return e=n.rule.indexOf(":taxonomy:")>0?"taxonomy":n.rule.substr(0,n.rule.indexOf(":")),e})())&&(0,i.createElement)(m.FlexItem,{isBlock:!0},(0,i.createElement)(g,{onChange:e.onChange,selectedCategories:[],type:n.rule.substr(n.rule.lastIndexOf(":")+1),rule:n,index:o})),(0,i.createElement)(m.FlexItem,null,(0,i.createElement)(m.Button,{className:"popper-modal-button",icon:"no",isSmall:!0,onClick:()=>{r(o)}})))}function b(e){const[t,l]=(0,i.useState)([]),{index:o,onDelete:r}=e;return(0,i.useEffect)((()=>{l(window.popper.users)}),[]),(0,i.createElement)(m.Flex,{align:"start",justify:"start",className:"popper-modal-row"},(0,i.createElement)(m.FlexItem,null,(0,i.createElement)("select",{onChange:t=>{e.onChange(void 0,t.target.value,o)},value:e.rule,className:"components-select-control__input"},(0,i.createElement)("option",{value:""},(0,d.__)("Select one…","popper")),Object.keys(t).map(((e,l)=>(0,i.createElement)("optgroup",{label:t[e].label,key:l},Object.keys(t[e].rules).map((l=>(0,i.createElement)("option",{value:l,key:l},t[e].rules[l])))))))),(0,i.createElement)(m.FlexItem,{align:"center"},(0,i.createElement)(m.Button,{className:"popper-modal-button",icon:"no",isSmall:!0,onClick:()=>{r(o)}})))}function v(e){const[t,l]=(0,i.useState)([]),{index:o,onChange:r,onChangeDevice:n,rule:a}=e;return(0,i.useEffect)((()=>{l(window.popper.devices)}),[]),(0,i.createElement)(m.Flex,{align:"start",justify:"start"},(0,i.createElement)(m.FlexItem,null,(0,i.createElement)(m.CheckboxControl,{label:a.device,checked:a.visibility,onChange:e=>{r("visibility",e,o)}})))}function w(e){const{onDelete:t,onChange:l,onChangeDevice:o,addRule:r,rules:n,onSelect:a,activeTab:c}=e;return n.device||(n.device=[{device:"desktop",visibility:!1},{device:"tablet",visibility:!1},{device:"mobile",visibility:!1}]),(0,i.createElement)(m.TabPanel,{onSelect:a,tabs:[{name:"location",component:f,title:(0,i.createElement)("span",null,(0,d.__)("Location","popper")),description:(0,i.createElement)("p",null,(0,d.__)("Choose where you want display this popup.","popper"))},{name:"exclude",component:f,title:(0,i.createElement)("span",null,(0,d.__)("Exclude","popper")),description:(0,i.createElement)("p",null,(0,d.__)("Choose where you don't want display this popup.","popper"))},{name:"user",component:b,title:(0,i.createElement)("span",null,(0,d.__)("Users","popper")),description:(0,i.createElement)("p",null,(0,d.__)("Choose which user will see this popup.","popper"))},{name:"device",component:v,title:(0,i.createElement)("span",null,(0,d.__)("Devices","popper")),description:(0,i.createElement)("p",null,(0,d.__)("Choose which device will see this popup.","popper"))}]},(e=>(0,i.createElement)(i.Fragment,null,(0,i.createElement)("h2",null,e.title),e.description,(0,i.createElement)(i.Fragment,null,n[c].map(((r,n)=>{const a=e.component;return(0,i.createElement)(a,{onChange:l,onChangeDevice:o,onDelete:t,rule:r,index:n,key:n})}))),"device"!==c&&(0,i.createElement)(m.Button,{isPrimary:!0,onClick:r,className:"popper-modal-button"},(0,d.__)("Add rule","popper")))))}function E(e){const{onRequestClose:t,setAttributes:l}=e,o=(0,c.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[r,n]=(0,h.useEntityProp)("postType",o,"meta"),a=r.popper_rules,[s,p]=(0,i.useState)(a),[u,g]=(0,i.useState)("location"),f=e=>{var t=e.filter((e=>!0===e.visibility)).map((e=>e.device));l({devices:t})};return(0,i.createElement)(m.Modal,{title:(0,d.__)("Rules","popper"),onRequestClose:t,className:"popper-modal-rule",shouldCloseOnClickOutside:!1},(0,i.createElement)(w,{onDelete:e=>{const t=[...s[u]];t.splice(e,1),p({...s,[u]:t})},onChange:(e,t,l)=>{const o=[...s[u]];let r={...s[u][l]};e?r[e]=t:r=t,o[l]=r,p({...s,[u]:o}),f(o)},onChangeDevice:f,addRule:()=>{let e;e="user"===u||"device"===u?s[u].concat(""):s[u].concat({rule:"",object:[]}),p({...s,[u]:e})},rules:s,onSelect:e=>{g(e)},activeTab:u}),(0,i.createElement)("div",{className:"popper-modal-buttons"},(0,i.createElement)(m.Button,{isPrimary:!0,onClick:()=>{n({...r,popper_rules:s}),t()}},(0,d.__)("Save","popper"))))}var k=window.wp.apiFetch,_=l.n(k);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o])}return e},y.apply(this,arguments)}(0,s.registerPlugin)("popper-display",{render:()=>{const e=(0,c.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[t,l]=(0,i.useState)(!1);if("popper"!==e)return!1;const o=(0,u.getBlockTypes)().filter((e=>-1!==e.name.indexOf("formello/form")));return(0,i.createElement)(p.PluginDocumentSettingPanel,{title:(0,d.__)("Display Rules","popper"),icon:()=>"",opened:!0,name:"popper-display"},(0,i.createElement)(m.BaseControl,null,(0,i.createElement)(m.Button,{isPrimary:!0,onClick:()=>{l(!0)}},(0,d.__)("Conditions","popper"))),(0,i.createElement)(m.Button,{isPrimary:!0,onClick:()=>{_()({path:"/popper/v1/sync_template_library/",method:"POST",data:{}})}},(0,d.__)("Sync template","popper")),!o.length&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(m.PanelRow,null,(0,i.createElement)("p",null,(0,d.__)("To take full advantage of Popper and start collecting leads, we suggest using our Formello plugin."))),(0,i.createElement)(m.Button,{isPrimary:!0,href:window.popper.installLink},(0,d.__)("Install form","popper"))),t&&(0,i.createElement)(E,{onRequestClose:()=>l(!1)}))}});var x=window.wp.blockEditor,C=l(184),S=l.n(C),B=window.wp.primitives,P=(0,i.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(B.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),R=window.wp.htmlEntities;function O(e){const{onRequestClose:t,type:l,clientId:o,setAttributes:r}=e,[n,a]=(0,i.useState)(!1),[s,p]=(0,i.useState)(!1),h=(0,c.useSelect)((e=>e("formello/popper-templates").getTemplates()),[]),{replaceInnerBlocks:g}=(0,c.useDispatch)("core/block-editor"),f=(e=>{if(!h)return h;const t=[];return h.forEach((l=>{let o=!e;!o&&l.types&&l.types.forEach((t=>{t.slug&&e===t.slug&&(o=!0)})),o&&t.push(l)})),t})(l),b=n||!f;return(0,i.createElement)(m.Modal,{title:(0,d.__)("Popups","popper"),className:S()("formello-plugin-templates-modal","formello-plugin-templates-modal-hide-header",b?"formello-plugin-templates-modal-loading":""),position:"top",isFullScreen:!0,onRequestClose:t},b&&(0,i.createElement)("div",null,(0,i.createElement)(m.Spinner,null)),(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{className:"formello-plugin-templates-categories-row"},(0,i.createElement)("div",{className:"formello-plugin-templates-count"},(0,i.createElement)(i.RawHTML,null,(0,d.sprintf)(
/* translators: Number of templates. */
(0,d.__)("Templates: %s","popper"),`<strong>${f.length?f.length:0}</strong>`)))),f&&!f.length&&(0,i.createElement)("div",null,"local"===l?(0,i.createElement)(i.Fragment,null,(0,i.createElement)("p",null,(0,d.__)("No templates found.","popper")),(0,i.createElement)("a",{className:"components-button is-button is-primary",href:formello.templatesURL,target:"_blank",rel:"noopener noreferrer"},(0,d.__)("Add New","popper"))):(0,i.createElement)("p",null,(0,d.__)("No templates found.","popper"))),f&&(0,i.createElement)("ul",{className:"popper-templates-list"},f.map((e=>{const n=!!e.content,c=(0,R.decodeEntities)(e.title);return(0,i.createElement)("li",{className:S()("formello-plugin-templates-list-item","formello-plugin-templates-list-item-no-thumb"),key:e.id},(0,i.createElement)("a",{role:"button",tabIndex:"0",onClick:()=>{a(!0),"remote"===l&&e.content?((e,l,o)=>{const n=(0,u.parse)(e);var a;r(n[0].attributes),n.length&&(g(l,n[0].innerBlocks),(a=!1)?p(a):t())})(e.content,o):t(e.id),a(!1)}},n&&(0,i.createElement)(x.BlockPreview,{blocks:(0,u.parse)(e.content)}),(0,i.createElement)("div",{className:"formello-plugin-templates-list-item-title"},c)))})))))}var A=function(e){let{icon:t=P,label:l=(0,d.__)("Choose variation"),instructions:o=(0,d.__)("Select a variation to start with."),variations:r,onSelect:n,allowSkip:a,clientId:c,setAttributes:s}=e;const p=S()("block-editor-block-variation-picker",{"has-many-variations":r.length>4}),[u,h]=(0,i.useState)(!1);return(0,i.createElement)(m.Placeholder,{icon:t,label:l,instructions:o,className:p},(0,i.createElement)("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":(0,d.__)("Block variations","formello")},r.map((e=>(0,i.createElement)("li",{key:e.name},(0,i.createElement)(m.Button,{isSecondary:!0,icon:e.icon,iconSize:48,onClick:()=>n(e),className:"block-editor-block-variation-picker__variation",label:e.description||e.title}),(0,i.createElement)("span",{className:"block-editor-block-variation-picker__variation-label",role:"presentation"},e.title))))),a&&(0,i.createElement)("div",{className:"block-editor-block-variation-picker__skip"},(0,i.createElement)(m.Button,{className:"plugin-formello-panel-button is-large",isPrimary:!0,onClick:()=>{h("templates")}},(0,d.__)("Open Library","formello")),(0,i.createElement)(m.Button,{isLink:!0,onClick:()=>n()},(0,d.__)("Skip","formello"))),"templates"===u&&(0,i.createElement)(O,{type:"remote",onRequestClose:()=>h(!1),clientId:c,setAttributes:s}))},T=e=>{const{attributes:{closeButtonSize:t,closeButtonAlignment:l},setAttributes:o}=e,r=[{label:(0,d.__)("Inside","popper"),value:"inside"},{label:(0,d.__)("Outside","popper"),value:"outside"},{label:(0,d.__)("Edge of screen","popper"),value:"edge"}];return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(m.PanelBody,{title:(0,d.__)("Button","popper"),initialOpen:!1},(0,i.createElement)(m.RangeControl,{value:t,label:(0,d.__)("Close Icon Size","popper"),onChange:e=>{o({closeButtonSize:e})},allowReset:!0,min:12,max:40}),(0,i.createElement)(m.RadioControl,{label:(0,d.__)("Button position","popper"),onChange:e=>o({closeButtonAlignment:e}),selected:l,options:r})))},z=e=>{const{attributes:t,setAttributes:l}=e,{width:o,backgroundColor:r,closeButtonColor:n,borderRadius:a,overlayColor:c,animation:s}=t;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(x.PanelColorSettings,{title:(0,d.__)("Color Settings","popper"),initialOpen:!1,colorSettings:[{value:r,onChange:e=>l({backgroundColor:e}),label:(0,d.__)("Background Color","popper")},{value:c,onChange:e=>l({overlayColor:e}),label:(0,d.__)("Overlay Color","popper"),enableAlpha:!0},{value:n,onChange:e=>l({closeButtonColor:e}),label:(0,d.__)("Close Button Color","popper")}]}),(0,i.createElement)(m.PanelBody,{title:(0,d.__)("Modal Appearance","popper"),initialOpen:!1},(0,i.createElement)(m.RangeControl,{value:a,label:(0,d.__)("Popup Border Radius","popper"),onChange:e=>{l({borderRadius:e})},allowReset:!0,min:0,max:100}),(0,i.createElement)(m.RangeControl,{value:o,label:(0,d.__)("Popup Min Width","popper"),onChange:e=>{l({width:e})},allowReset:!0,min:50,max:1e3}),(0,i.createElement)(m.SelectControl,{label:(0,d.__)("Animation","popper"),value:s,options:[{label:(0,d.__)("None","popper"),value:""},{label:(0,d.__)("Slide in Top","popper"),value:"slide-in-top"},{label:(0,d.__)("Slide in Bottom","popper"),value:"slide-in-bottom"},{label:(0,d.__)("Slide in Right","popper"),value:"slide-in-right"},{label:(0,d.__)("Slide in Left","popper"),value:"slide-in-left"},{label:(0,d.__)("Unfold In","popper"),value:"unfoldIn"},{label:(0,d.__)("Puff In","popper"),value:"puff-in"},{label:(0,d.__)("Puff In Back","popper"),value:"puff-in-back"}],onChange:e=>l({animation:e})})))},N=e=>{const{attributes:t,setAttributes:l}=e,{openBehaviour:o,anchor:r,waitTime:n,offset:a,target:s,pageviews:p}=t,u=(0,c.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[g,f]=(0,h.useEntityProp)("postType",u,"meta"),b=(g.popper_trigger,(e,t)=>{l({[e]:t}),f({...g,popper_trigger:{...g.popper_trigger,value:String(t)}})}),v=[{label:(0,d.__)("Timer","popper"),value:"load"},{label:(0,d.__)("On Anchor Click","popper"),value:"anchor"},{label:(0,d.__)("On Target Visibility","popper"),value:"target"},{label:(0,d.__)("On Scroll","popper"),value:"scroll"},{label:(0,d.__)("On Page Views","popper"),value:"pageviews"},{label:(0,d.__)("On Exit Intent","popper"),value:"exit"}];return(0,i.createElement)(m.PanelBody,{initialOpen:!0,title:(0,d.__)("Open Behaviour","popper")},(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.RadioControl,{onChange:e=>{l({openBehaviour:e}),f({...g,popper_trigger:{...g.popper_trigger,trigger:e}})},selected:o,options:v})),(0,i.createElement)(m.PanelRow,null,"anchor"===o&&(0,i.createElement)(m.TextControl,{value:r,label:(0,d.__)("Anchor","popper"),help:(0,i.createElement)("small",null,(0,d.__)("You can add anchors to button blocks. Using the same anchor here will open the popup when you click the respective button.","popper")),onChange:e=>b("anchor",e)}),"target"===o&&(0,i.createElement)(m.TextControl,{value:s,label:(0,d.__)("Target","popper"),help:(0,i.createElement)("small",null,(0,d.__)("Show a popup when element with this anchor enter in viewport.","popper")),onChange:e=>b("target",e)}),"scroll"===o&&(0,i.createElement)(m.RangeControl,{label:(0,d.__)("Scroll Distance in Percent","popper"),help:(0,i.createElement)("small",null,(0,d.__)("Show the popup when this percentage of the page has been scrolled.")),beforeIcon:"image-flip-vertical",value:a,onChange:e=>b("offset",e),min:0,max:100}),"pageviews"===o&&(0,i.createElement)(m.RangeControl,{label:(0,d.__)("Number of pages","popper"),help:(0,i.createElement)("small",null,(0,d.__)("Show the popup when this number of pages has been visited.")),beforeIcon:"visibility",value:p,onChange:e=>b("pageviews",e),min:0,max:100}),"load"===o&&(0,i.createElement)(m.RangeControl,{label:(0,d.__)("Wait Time in Seconds","popper"),help:(0,i.createElement)("small",null,(0,d.__)("How much time to wait before showing the popup.")),beforeIcon:"clock",value:n,onChange:e=>b("waitTime",e),min:0,max:100}),"exit"===o&&(0,i.createElement)("small",null,(0,d.__)("Shows the popup when the user moves the mouse outside of the top of the window","popper"))))},I=e=>{const{attributes:t,setAttributes:l}=e,{showCloseButton:o,closeOnClickOutside:r,closeOnFormSubmission:n,closeOnAnchorClick:a,closeAnchor:c,dismissForVisitors:s,dismissPeriod:p}=t,u=(e,t)=>{l({[e]:t})};return(0,i.createElement)(m.PanelBody,{initialOpen:!1,title:(0,d.__)("Close Behaviour","popper")},(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.CheckboxControl,{label:(0,d.__)("Show Close Button","popper"),checked:o,onChange:e=>u("showCloseButton",e)})),(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.CheckboxControl,{label:(0,d.__)("Close On Click Outside","popper"),checked:r,onChange:e=>u("closeOnClickOutside",e)})),(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.CheckboxControl,{label:(0,d.__)("Close after form submission","popper"),checked:n,onChange:e=>u("closeOnFormSubmission",e)})),(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.CheckboxControl,{label:(0,d.__)("Close On Anchor Click","popper"),checked:a,onChange:e=>u("closeOnAnchorClick",e)})),a&&(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.TextControl,{value:c,label:(0,d.__)("Anchor","popper"),help:(0,i.createElement)("small",null,(0,d.__)("You can add anchors to button blocks. Using the same anchor here will close the modal when you click the respective button.","popper")),onChange:e=>u("closeAnchor",e)})),(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.CheckboxControl,{label:(0,d.__)("Dismiss for Recurrent Visitors","popper"),checked:s,onChange:e=>u("dismissForVisitors",e)})),s&&(0,i.createElement)(m.PanelRow,null,(0,i.createElement)(m.RangeControl,{value:p,label:(0,d.__)("Number of Days Until the Notice is Shown again","popper"),onChange:e=>{l({dismissPeriod:e})},min:0,max:100})))};const W={};W.borderRadiusNone=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),W.borderRadiusSmall=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"2",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),W.borderRadiusMedium=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"10",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),W.borderRadiusLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"20",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),W.borderRadiusXLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"50",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),W.borderWidthNone=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("path",{d:"m16 16h68v68h-68z",fill:"none",transform:"matrix(1 0 0 1 2 2)"})),W.borderWidthSmall=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16"}))))),W.borderWidthMedium=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16",strokeWidth:"4"}))))),W.borderWidthLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16",strokeWidth:"6"}))))),W.borderWidthXLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16",strokeWidth:"10"}))))),W.boxShadowNone=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("path",{d:"m16 16h68v68h-68z",fill:"#fff",stroke:"#000",transform:"matrix(1 0 0 1 2 2)",strokeWidth:"3"})),W.boxShadowSmall=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m12 13h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),W.boxShadowMedium=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m19 20h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),W.boxShadowLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m23 24h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),W.boxShadowXLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m32 32h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),W.borderWidth=(0,i.createElement)("svg",{fill:"currentColor",height:"20px",version:"1.1",viewBox:"0 0 24 24",width:"20px",x:"0px",y:"0px"},(0,i.createElement)("title",null,"content_040-no_border-table-cell-square"),(0,i.createElement)("desc",null,"Created with Sketch."),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{fill:"currentColor",transform:"matrix(1 0 0 1 -476 -188)"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 477 189)"},(0,i.createElement)("rect",{height:"1",width:"2",x:"0",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"8",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"4",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"12",y:"0"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"7"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"3"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"8"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"0"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"4"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"11"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"15"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"19"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"12"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"16"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"19",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"3",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"7",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"11",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"16",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"15",y:"20"}))))),W.borderRadius=(0,i.createElement)("svg",{height:"20px",viewBox:"0 0 66 66",width:"20px"},(0,i.createElement)("path",{d:"m457 596.97658v5.02342c0 .552285-.447715 1-1 1h-12c-.552285 0-1-.447715-1-1v-5h-14.996435c-6.077067 0-11.003565-4.926533-11.003565-11.003565v-37.99287c0-6.077067 4.926533-11.003565 11.003565-11.003565h37.99287c6.077067 0 11.003565 4.926533 11.003565 11.003565v14.996435h5c.552285 0 1 .447715 1 1v12c0 .552285-.447715 1-1 1h-5.023422c-.506685 10.803114-9.172511 19.469882-19.976578 19.97658zm-12 4.02342h10v-10h-10zm26-26h10v-10h-10zm-28 20v-5c0-.552285.447715-1 1-1h12c.552285 0 1 .447715 1 1v4.974104c9.699148-.5031 17.471015-8.275803 17.974102-17.974104h-4.974102c-.552285 0-1-.447715-1-1v-12c0-.552285.447715-1 1-1h5v-14.996435c0-4.972466-4.03107-9.003565-9.003565-9.003565h-37.99287c-4.972466 0-9.003565 4.03107-9.003565 9.003565v37.99287c0 4.972466 4.03107 9.003565 9.003565 9.003565z",transform:"matrix(1 0 0 1 -417 -537)",fillRule:"evenodd"})),W.boxShadow=(0,i.createElement)("svg",{height:"20px",viewBox:"0 0 100 100",width:"20px",enableBackground:"new 0 0 100 100"},(0,i.createElement)("path",{d:"m92.5 21.233h-13.733v-13.733c0-1.381-1.119-2.5-2.5-2.5h-68.767c-1.381 0-2.5 1.119-2.5 2.5v68.767c0 1.381 1.119 2.5 2.5 2.5h13.733v13.733c0 1.381 1.119 2.5 2.5 2.5h68.767c.164 0 .328-.017.489-.049.075-.015.145-.043.217-.064.084-.025.168-.044.249-.077.086-.036.164-.084.245-.129.062-.034.126-.061.185-.101.275-.183.51-.419.694-.694.039-.058.065-.122.099-.182.045-.082.094-.161.13-.248.033-.081.052-.165.077-.248.022-.073.05-.143.065-.219.033-.161.05-.325.05-.489v-68.767c0-1.38-1.119-2.5-2.5-2.5zm-82.5 52.534v-63.767h63.767v13.733 50.033h-50.034-13.733zm16.233 16.233v-7.698l7.699 7.698zm14.769 0-11.233-11.233h6.063l11.233 11.233zm13.133 0-11.233-11.233h6.063l11.233 11.233zm13.134 0-11.234-11.233h6.063l11.234 11.233zm13.133 0-11.234-11.233h6.063l11.234 11.233zm9.598-3.535-11.233-11.234v-6.063l11.233 11.234zm0-13.133-11.233-11.234v-6.063l11.233 11.234zm0-13.134-11.233-11.233v-6.063l11.233 11.233zm0-13.133-11.233-11.233v-6.063l11.233 11.233zm0-13.133-7.698-7.698h7.698z"})),W.plugin=(0,i.createElement)("svg",{height:"20px",viewBox:"0 0 100 100",width:"20px",enableBackground:"new 0 0 100 100"},(0,i.createElement)("path",{d:"m27.751 67.15-.001-4.54-16.454.033c-3.027.017-5.475-2.431-5.478-5.47v-35.232c.003-3.014 2.451-5.462 5.453-5.462 1.313 0 2.521.469 3.441 1.225l15.019 15.069c1.434 1.484 2.331 3.479 2.318 5.568l-.033 20.008 4.595.026-.001-15.947c.011-2.975 2.459-5.423 5.51-5.43l16.99.028v-4.742l-19.718.03c-2.173 0-4.168-.897-5.582-2.264l-15.39-15.078c-1.075-.938-1.807-2.414-1.807-4.055 0-3.002 2.448-5.45 5.526-5.415h35.67c3.099-.035 5.548 2.413 5.544 5.212l.024 17.276 4.386.056-.01-11.806c-.002-3.042 2.519-5.49 5.442-5.49 1.37 0 2.638.538 3.672 1.435l10.798 10.549c.974.952 1.913 2.361 1.913 4.096 0 3.002-2.448 5.457-5.33 5.467l-12.163.043v4.658l16.678-.037c2.984-.007 5.433 2.419 5.418 5.451l-.011 35.698c-.001 3.088-2.445 5.537-5.447 5.537-1.595 0-2.99-.732-3.995-1.735l-14.585-14.56c-1.447-1.444-2.376-3.411-2.377-5.455l-.004-20.661-4.414.084.016 15.931c.015 2.96-2.433 5.4-5.411 5.392l-17.076-.047.004 4.596 19.44-.016c2.225-.002 4.206.933 5.57 2.301l15.985 16.035c.868.87 1.242 2.163 1.242 3.476 0 3.002-2.448 5.45-5.546 5.471l-35.508.041c-3.102.02-5.55-2.428-5.507-5.539l.068-17.508-4.598.029.023 11.997c.013 3.031-2.435 5.479-5.437 5.479-1.407 0-2.692-.538-3.642-1.401l-11.506-11.45c-.76-.919-1.215-2.126-1.187-3.44.063-3.002 2.448-5.45 5.331-5.482l12.135-.032m-.022-28.553c-.029-1.116-.492-2.146-1.173-2.829l-14.453-14.638c-.217-.23-.506-.36-.824-.36-.637 0-1.156.519-1.163 1.258v35.089c.008.726.527 1.245 1.213 1.233l16.429-.032zm30.179 19.754-16.997-.009-.004-15.875c.016-.652.535-1.171 1.199-1.183l16.983.033-.007 15.87c.011.657-.509 1.164-1.174 1.164zm20.542 29.772-15.306-15.381c-.709-.712-1.703-1.255-2.816-1.257l-19.44-.034-.035 17.565c-.039.688.481 1.207 1.101 1.192l35.763-.041c.594-.025 1.113-.544 1.113-1.181 0-.319-.128-.61-.38-.863zm-41.859-25.516-.005 4.515-4.553.053.017-4.515zm-8.824 20.809.01-11.91-12.062-.013c-.617.014-1.136.533-1.136 1.17 0 .318.13.607.33.829l10.697 10.625c.263.34.615.543 1.013.543.637-.001 1.156-.52 1.148-1.244zm31.303-72.658.019 17.284-19.526-.021c-1.164-.004-2.194-.467-2.942-1.164l-15.306-15.09c-.199-.104-.402-.456-.402-.854 0-.637.519-1.156 1.158-1.125h35.88c.598-.031 1.118.488 1.119.97zm8.7 26.237.028-4.63-4.414-.056v4.658zm17.168-10.999-10.825-10.723c-.162-.252-.514-.455-.912-.455-.637 0-1.156.519-1.152 1.203l.043 12.021 12.037-.038c.642-.022 1.161-.541 1.161-1.178.001-.318-.129-.607-.352-.83zm4.97 16.382c0-.637-.519-1.156-1.247-1.131l-16.597.014-.004 20.39c0 .834.51 1.821 1.194 2.514l14.571 14.741c.201.203.507.443.904.443.637 0 1.156-.519 1.157-1.168l.001-35.906",fillRule:"evenodd",clipRule:"evenodd"})),W.button=(0,i.createElement)("svg",{viewBox:"0 0 16 16"},(0,i.createElement)("path",{d:"M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"}));var F=W;function D(e){const{setAttributes:t,attributes:{borderRadius:l,boxShadow:o,align:r,fullPage:n}}=e;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(x.BlockControls,null,(0,i.createElement)(m.ToolbarGroup,null,(0,i.createElement)(x.__experimentalBlockAlignmentMatrixControl,{value:r,onChange:e=>t({align:e}),label:(0,d.__)("Position","popper")}),(0,i.createElement)(x.__experimentalBlockFullHeightAligmentControl,{isActive:n,onToggle:()=>t({fullPage:!n})}),(0,i.createElement)(m.ToolbarDropdownMenu,{icon:F.boxShadow,label:(0,d.__)("Box shadow","popper"),controls:[{label:(0,d.__)("None","popper"),title:"None",icon:F.boxShadowNone,isActive:"wp-block-popper__shadow-none"===o,onClick:()=>t({boxShadow:"wp-block-popper__shadow-none"})},{label:(0,d.__)("Small","popper"),title:"Small",icon:F.boxShadowSmall,isActive:"wp-block-popper__shadow-sm"===o,onClick:()=>t({boxShadow:"wp-block-popper__shadow-sm"})},{label:(0,d.__)("Medium","popper"),title:"Medium",icon:F.boxShadowMedium,isActive:"wp-block-popper__shadow-md"===o,onClick:()=>t({boxShadow:"wp-block-popper__shadow-md"})},{label:(0,d.__)("Large","popper"),title:"Large",icon:F.boxShadowLarge,isActive:"wp-block-popper__shadow-lg"===o,onClick:()=>t({boxShadow:"wp-block-popper__shadow-lg"})},{label:(0,d.__)("X-Large","popper"),title:"X-Large",icon:F.boxShadowXLarge,isActive:"wp-block-popper__shadow-xl"===o,onClick:()=>t({boxShadow:"wp-block-popper__shadow-xl"})}]}),(0,i.createElement)(m.ToolbarDropdownMenu,{icon:F.borderRadius,label:(0,d.__)("Border radius","popper"),controls:[{label:(0,d.__)("None","popper"),title:"None",icon:F.borderRadiusNone,isActive:0===l,onClick:()=>t({borderRadius:0})},{label:(0,d.__)("Small","popper"),title:"Small",icon:F.borderRadiusSmall,isActive:20===l,onClick:()=>t({borderRadius:2})},{label:(0,d.__)("Medium","popper"),title:"Medium",icon:F.borderRadiusMedium,isActive:4===l,onClick:()=>t({borderRadius:4})},{label:(0,d.__)("Large","popper"),title:"Large",icon:F.borderRadiusLarge,isActive:8===l,onClick:()=>t({borderRadius:8})},{label:(0,d.__)("X-Large","popper"),title:"X-Large",icon:F.borderRadiusXLarge,isActive:24===l,onClick:()=>t({borderRadius:24})}]}))))}function M(e){const{attributes:t,setAttributes:l,clientId:o,hasInnerBlocks:r}=e,{width:n,backgroundColor:a,showCloseButton:s,closeButtonColor:p,closeButtonSize:u,closeButtonAlignment:h,boxShadow:g,overlayColor:f,align:b,fullPage:v,borderRadius:w}=t;(0,i.useEffect)((()=>{l({uuid:k})}),[]);const k=(0,c.useSelect)((e=>e("core/editor").getCurrentPostId())),[_,C]=(0,i.useState)(!1),B={};p&&(B.color=p,B.fontSize=u,B.width=u,B.height=u),"outside"===h&&(B.top=-1*(u+4),B.right=0);const P={width:n,borderRadius:w},R={backgroundColor:f};f&&!b.includes("center")&&(R.backgroundColor=void 0),a&&(P.backgroundColor=a);const A=S()("wp-block-popper wp-block-popper-is-open","wp-block-formello-popper",{"wp-block-popper--right":b.includes("right"),"wp-block-popper--left":b.includes("left"),"wp-block-popper--top":b.includes("top"),"wp-block-popper--bottom":b.includes("bottom"),"wp-block-formello-popper--nobg":!b.includes("center")||void 0===f}),W=S()("wp-block-popper__container",g,{wide:v}),{deviceType:F}=(0,c.useSelect)((e=>{const{__experimentalGetPreviewDeviceType:t}=e("core/edit-post");return{deviceType:t()}}),[]);"Mobile"===F&&(P.width=void 0);const M=(0,x.useBlockProps)({className:W,style:P}),{children:H,...L}=(0,x.useInnerBlocksProps)(M,{templateLock:!1,renderAppender:r?x.InnerBlocks.ButtonBlockAppender:null}),j=(0,i.createElement)("button",{className:"wp-block-popper__close",style:B});return(0,i.createElement)("div",{className:A,style:R},s&&"edge"===h&&j,(0,i.createElement)(x.InspectorControls,null,(0,i.createElement)(N,e),(0,i.createElement)(I,e),(0,i.createElement)(z,e),(0,i.createElement)(T,e)),(0,i.createElement)(x.BlockControls,null,(0,i.createElement)(m.ToolbarGroup,null,(0,i.createElement)(m.ToolbarButton,{label:(0,d.__)("Template","popper"),icon:"layout",onClick:()=>{C("templates")}})),(0,i.createElement)(m.ToolbarGroup,null,(0,i.createElement)(m.ToolbarButton,{label:(0,d.__)("Display Rules","popper"),icon:"visibility",onClick:()=>{C("options")}})),(0,i.createElement)(D,{attributes:t,setAttributes:l})),(0,i.createElement)("div",L,s&&"edge"!==h&&j,H),"templates"===_&&(0,i.createElement)(O,y({type:"remote",onRequestClose:()=>C(!1)},e)),"options"===_&&(0,i.createElement)(E,y({onRequestClose:()=>C(!1)},e)))}function H(e){const{name:t,clientId:l,setAttributes:o}=e,{replaceInnerBlocks:r}=(0,c.dispatch)("core/block-editor"),{getBlockVariations:n,getDefaultBlockVariation:a}=(0,c.select)("core/blocks"),s=(0,c.useSelect)((()=>void 0===a?null:a(e.name)),[t]),p=(0,c.useSelect)((()=>n(t,"block")),[t]);return(0,i.createElement)("div",(0,x.useBlockProps)({className:"popper-placeholder"}),(0,i.createElement)(A,{icon:"external",label:"Popup",instructions:(0,d.__)("Select a form to start with.","popper"),variations:p,clientId:l,setAttributes:o,allowSkip:!0,onSelect:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;t.attributes&&o(t.attributes),t.innerBlocks&&r(e.clientId,(0,u.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!0)}}))}var L=JSON.parse('{"apiVersion":2,"name":"formello/popper","title":"Pop up","icon":"external","category":"widgets","description":"A great popup block.","textdomain":"popper","supports":{"html":false,"multiple":false,"lock":false,"className":false,"reusable":false,"spacing":{"padding":true,"margin":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}}},"attributes":{"lock":{"type":"object","default":{"move":true,"remove":true}},"align":{"type":"string","default":"center center"},"fullPage":{"type":"boolean","default":false},"width":{"type":"number","default":500},"waitTime":{"type":"number","default":1},"offset":{"type":"number","default":20},"openBehaviour":{"type":"string","default":"load"},"showCloseButton":{"type":"boolean","default":true},"closeButtonAlignment":{"type":"string","default":"inside"},"closeButtonSize":{"type":"number","default":20},"animation":{"type":"string"},"borderRadius":{"type":"number","default":4},"boxShadow":{"type":"string","default":"wp-block-popper__shadow-md"},"closeOnClickOutside":{"type":"boolean","default":true},"closeOnAnchorClick":{"type":"boolean","default":false},"closeOnFormSubmission":{"type":"boolean","default":false},"closeAnchor":{"type":"string"},"anchor":{"type":"string","default":""},"target":{"type":"string","default":""},"backgroundColor":{"type":"string"},"closeButtonColor":{"type":"string"},"overlayColor":{"type":"string"},"gradientBackground":{"type":"string"},"dismissForVisitors":{"type":"boolean","default":true},"dismissPeriod":{"type":"number","default":1},"pageviews":{"type":"number","default":3},"uuid":{"type":"number","default":null},"devices":{"type":"array"}},"editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css","viewScript":"file:./build/frontend.js"}');const{omit:j}=lodash,{supports:V}=L,q={attributes:{lock:{type:"object",default:{move:!0,remove:!0}},align:{type:"string",default:"center center"},fullPage:{type:"boolean",default:!1},width:{type:"number",default:500},waitTime:{type:"number",default:1},offset:{type:"number",default:20},openBehaviour:{type:"string",default:"load"},showCloseButton:{type:"boolean",default:!0},closeButtonAlignment:{type:"string",default:"inside"},closeButtonSize:{type:"number",default:20},animation:{type:"string"},borderRadius:{type:"number",default:4},boxShadow:{type:"string",default:"wp-block-popper__shadow-md"},closeOnClickOutside:{type:"boolean",default:!0},closeOnAnchorClick:{type:"boolean",default:!1},closeOnFormSubmission:{type:"boolean",default:!1},closeAnchor:{type:"string"},anchor:{type:"string",default:""},target:{type:"string",default:""},backgroundColor:{type:"string"},closeButtonColor:{type:"string"},overlayColor:{type:"string"},gradientBackground:{type:"string"},dismissForVisitors:{type:"boolean",default:!0},dismissPeriod:{type:"number",default:1},pageviews:{type:"number",default:3},uuid:{type:"number",default:null}},supports:V,save(e){let{attributes:t,className:l}=e;const{width:o,anchor:r,target:n,waitTime:a,offset:c,openBehaviour:s,backgroundColor:p,closeButtonColor:u,closeButtonSize:m,closeButtonAlignment:d,borderRadius:h,boxShadow:g,overlayColor:f,closeAnchor:b,closeOnClickOutside:v,closeOnAnchorClick:w,closeOnFormSubmission:E,dismissForVisitors:k,dismissPeriod:_,showCloseButton:y,pageviews:C,animation:B,align:P,fullPage:R,uuid:O}=t,A={width:o,borderRadius:h,backgroundColor:p},T={color:u,fontSize:m,width:m,height:m};"outside"===d&&(T.top=-1*(m+4),T.right=0);const z=S()("wp-block-popper",l,{"wp-block-popper--right":P.includes("right"),"wp-block-popper--left":P.includes("left"),"wp-block-popper--top":P.includes("top"),"wp-block-popper--bottom":P.includes("bottom")}),N=S()("wp-block-popper__container",g,{"wp-block-popper__animate":!!B,wide:R});B&&(A["--popper-animation"]=B);const I=(0,i.createElement)("button",{className:"wp-block-popper__close","aria-label":"Close modal",style:T});return(0,i.createElement)("div",{"data-open":s,"data-anchor":"anchor"===s?r:"","data-target":"target"===s?n:"","data-anchorclose":w?b:"","data-time":"load"===s?a:"","data-dismiss":k?_:"","data-offset":"scroll"===s?c:"","data-pagenum":"pageviews"===s?C:"","data-outside":v,"data-form":E,"data-created":O,id:"modal-"+O,"aria-hidden":"true",className:z},y&&"edge"===d&&I,"center center"===P&&!R&&(0,i.createElement)("div",{className:"wp-block-popper__overlay",tabIndex:"-1",style:{backgroundColor:f}}),(0,i.createElement)("div",{className:N,style:A,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},y&&"edge"!==d&&I,(0,i.createElement)("main",{className:"wp-block-popper__content"},(0,i.createElement)(x.InnerBlocks.Content,null))))}};var G=[q],X=[{name:"simple",title:(0,d.__)("Blank"),description:(0,d.__)("Blank popup"),icon:(0,i.createElement)(m.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(m.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m39.0625 14h-30.0625v20.0938h30.0625zm-30.0625-2c-1.10457 0-2 .8954-2 2v20.0938c0 1.1045.89543 2 2 2h30.0625c1.1046 0 2-.8955 2-2v-20.0938c0-1.1046-.8954-2-2-2z"})),attributes:{backgroundColor:"#ffffff"},innerBlocks:[["core/paragraph"]],scope:["block"]},{name:"With image",title:(0,d.__)("Left Image"),description:(0,d.__)("Image on the left"),icon:(0,i.createElement)(m.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(m.Path,{d:"M3 18h8V6H3v12zM14 7.5V9h7V7.5h-7zm0 5.3h7v-1.5h-7v1.5zm0 3.7h7V15h-7v1.5z"})),attributes:{backgroundColor:"#ffffff"},innerBlocks:[["core/media-text",{mediaPosition:"left",verticalAlignment:"center",mediaType:"image",mediaUrl:"https://images.unsplash.com/photo-1525507119028-ed4c629a60a3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=435&q=80"},[["core/heading",{textAlign:"center",placeholder:"Your claim...",fontSize:"large",content:"30% off coupon"}],["core/paragraph",{align:"center",placeholder:"Your claim...",content:"If you're looking for a new way to promote your business."}],["core/buttons",{layout:{type:"flex",justifyContent:"center"}},[["core/button",{text:"SHOP NOW",style:{color:{background:"#28a7d9"}}}]]]]]],scope:["block"]},{name:"button",title:(0,d.__)("With buttons"),description:(0,d.__)("Popup with buttons and image"),icon:(0,i.createElement)(m.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(m.Path,{d:"M19 6.5H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2zm.5 9c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v7zM8 12.8h8v-1.5H8v1.5z"})),attributes:{backgroundColor:"#ffffff"},innerBlocks:[["core/group",{style:{color:{background:"#fff"}}},[["core/image",{align:"center",width:234,height:291,url:"https://www.pngfind.com/pngs/m/525-5253539_3d-book-template-1-ebook-image-png-transparent.png"},[]],["core/heading",{textAlign:"center",placeholder:"Your claim...",fontSize:"large",content:"My secret SEO strategy"}],["core/paragraph",{align:"center",placeholder:"Your claim...",content:"If you're looking for a fast way to rank high on Google."}],["core/buttons",{layout:{type:"flex",justifyContent:"center",orientation:"vertical"}},[["core/button",{text:"DOWNLOAD NOW",style:{color:{background:"#28a7d9"}}}],["core/button",{text:"No thanks",style:{color:{background:"#fff",text:"#000"}}}]]]]]],scope:["block"]}],U=window.wp.hooks,Y=window.wp.compose,J=(window.wp.blockSerializationDefaultParser,window.wp.api),$=l.n(J);const K=(0,Y.createHigherOrderComponent)((e=>t=>{if(!["core/image","core/button"].includes(t.name))return(0,i.createElement)(e,t);const l=[{value:"",label:(0,d.__)("Select a popup","popper")}],{postType:o,postId:r}=(0,c.useSelect)((e=>({postId:e("core/editor").getCurrentPostId(),postType:e("core/editor").getCurrentPostType()}))),{popups:n}=(0,c.useSelect)((e=>({popups:e("core").getEntityRecords("postType","popper",{per_page:-1})}))),a=e=>n.find((t=>t.id===Number(e)));null!==n&&n.length&&n.forEach((e=>{"anchor"!==e.meta.popper_trigger.trigger&&"target"!==e.meta.popper_trigger.trigger||l.push({value:e.id,label:e.title.raw+" ("+e.meta.popper_trigger.trigger+")"||0})}));const{attributes:s,setAttributes:p,isSelected:u}=t,{popper:h}=s;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(e,t),u&&(0,i.createElement)(x.InspectorAdvancedControls,null,(0,i.createElement)(m.SelectControl,{label:(0,d.__)("Open popup"),value:h,options:l,onChange:e=>{p({popper:e}),(e=>{if(e){const t=a(e);p({anchor:t.meta.popper_trigger.value})}else p({anchor:e})})(e),(e=>{if(!e)return;const t=a(e),l={rule:"post:"+o,object:[r]};if(t.meta.popper_rules.location.find((e=>e.rule===l.rule&&e.object.includes(r))))return;t.meta.popper_rules.location.push(l);const n=new($().models.Popper)({id:e});n.fetch().done((l=>{n.setMeta("popper_rules",t.meta.popper_rules),n.save({id:e})}))})(e)},help:(0,d.__)("Open a popup on anchor click","popper")})))}),"withAdvancedControls");(0,U.addFilter)("editor.BlockEdit","formello/popper-advanced-control",K),(0,U.addFilter)("blocks.registerBlockType","formello/popper-custom-attributes",(function(e){return["core/image","core/button"].includes(e.name)&&(e.attributes=Object.assign(e.attributes,{popper:{type:"numeric",default:null}})),e}));function Q(e){return e.templates}function Z(e,t){return e.templatesData[t]}function ee(e){return{type:"API_FETCH",request:e}}function te(e){return{type:"SET_TEMPLATES",templates:e}}function le(e){return{type:"SET_TEMPLATE_DATA",data:e}}function oe(e){let{request:t}=e;return _()(t).then((e=>!!(e&&e.success&&e.response)&&e.response))}function*re(){return te(yield ee({path:"/popper/v1/get_templates"}))}function*ne(e){const t=`/popper/v1/get_template_data/?id=${e}`,l=yield ee({path:t});return l.id||(l.id=e),le(l)}(0,c.registerStore)("formello/popper-templates",{reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{templates:!1,templatesData:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEMPLATES":!e.templates&&t.templates&&(e.templates=t.templates);break;case"SET_TEMPLATE_DATA":t.templatesData&&t.templatesData.id&&!e.templatesData[t.templatesData.id]&&(e.templatesData[t.templatesData.id]=t.templatesData)}return e},selectors:o,actions:r,controls:n,resolvers:a});const{name:ae,attributes:ie,supports:ce}=L;(0,u.registerBlockType)(ae,{attributes:ie,variations:X,deprecated:G,supports:ce,edit:e=>{const{clientId:t}=e,l=(0,c.useSelect)((e=>{const{getBlock:l}=e("core/block-editor"),o=l(t);return!(!o||!o.innerBlocks.length)}),[t])?M:H;return(0,i.createElement)(l,e)},save:function(e){let{attributes:t,className:l}=e;const{width:o,anchor:r,target:n,waitTime:a,offset:c,openBehaviour:s,backgroundColor:p,closeButtonColor:u,closeButtonSize:m,closeButtonAlignment:d,borderRadius:h,boxShadow:g,overlayColor:f,closeAnchor:b,closeOnClickOutside:v,closeOnAnchorClick:w,closeOnFormSubmission:E,dismissForVisitors:k,dismissPeriod:_,showCloseButton:C,pageviews:B,animation:P,align:R,fullPage:O,uuid:A,devices:T}=t,z={width:o,borderRadius:h,backgroundColor:p},N={color:u,fontSize:m,width:m,height:m};"outside"===d&&(N.top=-1*(m+4),N.right=0);const I=S()("wp-block-popper",l,{"wp-block-popper--right":R.includes("right"),"wp-block-popper--left":R.includes("left"),"wp-block-popper--top":R.includes("top"),"wp-block-popper--bottom":R.includes("bottom")}),W=S()("wp-block-popper__container",g,{"wp-block-popper__animate":!!P,wide:O});P&&(z["--popper-animation"]=P);const F=(0,i.createElement)("button",{className:"wp-block-popper__close","aria-label":"Close modal",style:N});return(0,i.createElement)("div",{"data-open":s,"data-anchor":"anchor"===s?r:"","data-target":"target"===s?n:"","data-anchorclose":w?b:"","data-time":"load"===s?a:"","data-dismiss":k?_:"","data-offset":"scroll"===s?c:"","data-pagenum":"pageviews"===s?B:"","data-outside":v,"data-form":E,"data-created":A,"data-devices":JSON.stringify(T),id:"modal-"+A,"aria-hidden":"true",className:I},C&&"edge"===d&&F,"center center"===R&&!O&&(0,i.createElement)("div",{className:"wp-block-popper__overlay",tabIndex:"-1",style:{backgroundColor:f}}),(0,i.createElement)("div",y({},x.useBlockProps.save({className:W,style:z}),{role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"}),C&&"edge"!==d&&F,(0,i.createElement)("main",{className:"wp-block-popper__content"},(0,i.createElement)(x.InnerBlocks.Content,null))))}})},184:function(e,t){var l;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var n=typeof l;if("string"===n||"number"===n)e.push(l);else if(Array.isArray(l)){if(l.length){var a=r.apply(null,l);a&&e.push(a)}}else if("object"===n)if(l.toString===Object.prototype.toString)for(var i in l)o.call(l,i)&&l[i]&&e.push(i);else e.push(l.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(l=function(){return r}.apply(t,[]))||(e.exports=l)}()}},l={};function o(e){var r=l[e];if(void 0!==r)return r.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=function(t,l,r,n){if(!l){var a=1/0;for(p=0;p<e.length;p++){l=e[p][0],r=e[p][1],n=e[p][2];for(var i=!0,c=0;c<l.length;c++)(!1&n||a>=n)&&Object.keys(o.O).every((function(e){return o.O[e](l[c])}))?l.splice(c--,1):(i=!1,n<a&&(a=n));if(i){e.splice(p--,1);var s=r();void 0!==s&&(t=s)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[l,r,n]},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={826:0,431:0};o.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,n,a=l[0],i=l[1],c=l[2],s=0;if(a.some((function(t){return 0!==e[t]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(c)var p=c(o)}for(t&&t(l);s<a.length;s++)n=a[s],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(p)},l=self.webpackChunkpopper=self.webpackChunkpopper||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var r=o.O(void 0,[431],(function(){return o(4)}));r=o.O(r)}();