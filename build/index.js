!function(){var e,t={663:function(e,t,o){"use strict";var r={};o.r(r),o.d(r,{getTemplateData:function(){return $},getTemplates:function(){return Y}});var n={};o.r(n),o.d(n,{apiFetch:function(){return J},setTemplateData:function(){return Q},setTemplates:function(){return K}});var l={};o.r(l),o.d(l,{API_FETCH:function(){return Z}});var a={};o.r(a),o.d(a,{getTemplateData:function(){return te},getTemplates:function(){return ee}});var i=window.wp.element,c=(o(721),window.wp.data),s=window.wp.plugins,p=window.wp.editPost,u=window.wp.coreData,m=window.wp.blocks,d=window.wp.components,h=o(184),f=o.n(h),g=window.wp.i18n,b=(window.wp.compose,window.wp.apiFetch),v=o.n(b);function E(e){const{type:t,rule:o,index:r,onChange:n}=e,l=(0,c.useSelect)((e=>e("core").getEntityRecords("postType",t,{per_page:-1})));let a=[],s=[],p=o.object;return null!==l&&(a=l.map((e=>e.title.raw)),s=p.map((e=>{let t=l.find((t=>t.id===parseInt(e)));return!(void 0===t||!t)&&t.title.raw})).filter((e=>!!e))),(0,i.createElement)(d.FormTokenField,{label:(0,g.__)("Selected "+t,"popper"),value:s,suggestions:a,onChange:e=>{let t=[];e.map((e=>{const o=l.find((t=>t.title.raw===e));void 0!==o&&t.push(o.id)})),n("object",t,r)},maxSuggestions:5})}function w(e){const[t,o]=(0,i.useState)([]),{index:r,onDelete:n}=e;return(0,i.useEffect)((()=>{o(popper.positions)}),[]),(0,i.createElement)(d.Flex,{align:"start",justify:"start"},(0,i.createElement)(d.FlexItem,null,(0,i.createElement)("label",{className:"components-form-token-field__label"},(0,g.__)("Where","popper")),(0,i.createElement)("select",{onChange:t=>{e.onChange("rule",t.target.value,e.index)},value:e.rule.rule,className:"components-select-control__input"},(0,i.createElement)("option",{value:""},(0,g.__)("Select one...","popper")),Object.keys(t).map(((e,o)=>(0,i.createElement)("optgroup",{label:t[e].label,key:o},Object.keys(t[e].locations).map(((o,r)=>(0,i.createElement)("option",{value:o,key:o},t[e].locations[o])))))))),["post","taxonomy"].includes((()=>{e.rule.rule.substr(0,e.rule.rule.indexOf(":"));let t="";return t=e.rule.rule.indexOf(":taxonomy:")>0?"taxonomy":e.rule.rule.substr(0,e.rule.rule.indexOf(":")),t})())&&(0,i.createElement)(d.FlexItem,{isBlock:!0},(0,i.createElement)(E,{onChange:e.onChange,selectedCategories:[],type:e.rule.rule.substr(e.rule.rule.lastIndexOf(":")+1),rule:e.rule,index:e.index})),(0,i.createElement)(d.FlexItem,null,(0,i.createElement)(d.Button,{className:"popper-modal-button",icon:"no",onClick:t=>{e.onDelete(e.index)}})))}function k(e){const[t,o]=(0,i.useState)([]),{index:r,onDelete:n}=e;return(0,i.useEffect)((()=>{o(popper.users)}),[]),(0,i.createElement)(d.Flex,{align:"start",justify:"start",className:"popper-modal-rule"},(0,i.createElement)(d.FlexItem,null,(0,i.createElement)("label",{className:"components-form-token-field__label"},(0,g.__)("User","popper")),(0,i.createElement)("select",{onChange:t=>{e.onChange(void 0,t.target.value,e.index)},value:e.rule,className:"components-select-control__input"},(0,i.createElement)("option",{value:""},(0,g.__)("Select one...","popper")),Object.keys(t).map(((e,o)=>(0,i.createElement)("optgroup",{label:t[e].label,key:o},Object.keys(t[e].rules).map(((o,r)=>(0,i.createElement)("option",{value:o,key:o},t[e].rules[o])))))))),(0,i.createElement)(d.FlexItem,{align:"center"},(0,i.createElement)(d.Button,{className:"popper-modal-button",icon:"no",onClick:t=>{e.onDelete(e.index)}})))}function y(e){const{onRequestClose:t}=e,o=(0,c.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[r,n]=(0,u.useEntityProp)("postType",o,"meta"),l=r.popper_rules,[a,s]=(0,i.useState)(l),[p,m]=(0,i.useState)("location"),h=()=>{if("user"===p)var e=a[p].concat("");else e=a[p].concat({rule:"",object:[]});s({...a,[p]:e})},f=(e,t,o)=>{let l=[...a[p]],i={...a[p][o]};e?i[e]=t:i=t,l[o]=i,s({...a,[p]:l}),n({...r,popper_rules:a})},b=e=>{let t=[...a[p]];t.splice(e,1),s({...a,[p]:t}),n({...r,popper_rules:a})};return(0,i.createElement)(d.Modal,{title:(0,g.__)("Rules","popper"),onRequestClose:e=>{n({...r,popper_rules:a}),t()},className:"popper-modal-rule"},(0,i.createElement)(d.TabPanel,{onSelect:e=>{m(e)},tabs:[{name:"location",title:(0,i.createElement)("span",null,(0,g.__)("Location","popper")),description:(0,i.createElement)("p",null,(0,g.__)("Choose where you want display this popup.","popper"))},{name:"exclude",title:(0,i.createElement)("span",null,(0,g.__)("Exclude","popper")),description:(0,i.createElement)("p",null,(0,g.__)("Choose where you don't want display this popup.","popper"))},{name:"user",title:(0,i.createElement)("span",null,(0,g.__)("Users","popper")),description:(0,i.createElement)("p",null,(0,g.__)("Choose which user will see this popup.","popper"))}]},(e=>(0,i.createElement)(i.Fragment,null,(0,i.createElement)("h2",null,e.title),e.description,(0,i.createElement)(i.Fragment,null,a[p].map(((t,o)=>{const r="user"===e.name?k:w;return(0,i.createElement)(r,{onChange:f,onDelete:b,rule:t,index:o,key:o})}))),(0,i.createElement)(d.Button,{isPrimary:!0,onClick:h,className:"popper-modal-button"},(0,g.__)("Add rule","popper"))))))}function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},_.apply(this,arguments)}(0,s.registerPlugin)("popper-display",{render(){const e=(0,c.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),t=(0,m.getBlockTypes)().filter((e=>-1!==e.name.indexOf("formello/form")));if("popper"!==e)return!1;const[o,r]=(0,u.useEntityProp)("postType",e,"meta"),[n,l]=(0,i.useState)(!1);return(0,i.createElement)(p.PluginDocumentSettingPanel,{title:(0,g.__)("Display Rules","popper"),icon:()=>"",opened:!0,name:"popper-display"},(0,i.createElement)(d.BaseControl,null,(0,i.createElement)(d.Button,{isPrimary:!0,onClick:()=>{l(!0)}},(0,g.__)("Conditions","popper"))),!t.length&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)(d.PanelRow,null,(0,i.createElement)("p",null,(0,g.__)("To take full advantage of Popper and start collecting leads, we suggest using our Formello plugin."))),(0,i.createElement)(d.Button,{isPrimary:!0,href:popper.installLink},(0,g.__)("Install form","popper"))),n&&(0,i.createElement)(y,{onRequestClose:()=>l(!1)}))}});var x=window.wp.blockEditor,C=window.wp.primitives,S=(0,i.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(C.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),B=window.wp.htmlEntities;function O(e){const{onRequestClose:t,type:o,clientId:r}=e,[n,l]=(0,i.useState)(!1),[a,s]=(0,i.useState)(!1),p=(0,c.useSelect)((e=>e("formello/popper-templates").getTemplates()),[]),{replaceBlocks:u,replaceInnerBlocks:h,replaceBlock:b,insertBlocks:v}=(0,c.useDispatch)("core/block-editor"),E=(e=>{if(!p)return p;const t=[];return p.forEach((o=>{let r=!e;!r&&o.types&&o.types.forEach((t=>{t.slug&&e===t.slug&&(r=!0)})),r&&t.push(o)})),t})(o),w=n||!E;return(0,i.createElement)(d.Modal,{title:(0,g.__)("Popups","popper"),className:f()("formello-plugin-templates-modal","formello-plugin-templates-modal-hide-header",w?"formello-plugin-templates-modal-loading":""),position:"top",isFullScreen:!0,onRequestClose:t},w&&(0,i.createElement)("div",{className:"formello-plugin-templates-modal-loading-spinner"},(0,i.createElement)(d.Spinner,null)),(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{className:"formello-plugin-templates-categories-row"},(0,i.createElement)("div",{className:"formello-plugin-templates-count"},(0,i.createElement)(i.RawHTML,null,(0,g.sprintf)(
/* translators: Number of templates. */
(0,g.__)("Templates: %s","popper"),`<strong>${E.length?E.length:0}</strong>`)))),E&&!E.length&&(0,i.createElement)("div",null,"local"===o?(0,i.createElement)(i.Fragment,null,(0,i.createElement)("p",null,(0,g.__)("No templates found.","popper")),(0,i.createElement)("a",{className:"components-button is-button is-primary",href:formello.templatesURL,target:"_blank",rel:"noopener noreferrer"},(0,g.__)("Add New","popper"))):(0,i.createElement)("p",null,(0,g.__)("No templates found.","popper"))),E&&(0,i.createElement)("ul",{className:"popper-templates-list"},E.map((e=>{const n=!!e.content,a=(0,B.decodeEntities)(e.title);return(0,i.createElement)("li",{className:f()("formello-plugin-templates-list-item","formello-plugin-templates-list-item-no-thumb"),key:e.id},(0,i.createElement)("a",{onClick:()=>{l(!0),"remote"===o&&e.content?((e,o,r)=>{const n=(0,m.parse)(e);var l;n.length&&(h(o,n[0].innerBlocks),(l=!1)?s(l):t())})(e.content,r):t(e.id),l(!1)}},n&&(0,i.createElement)(x.BlockPreview,{blocks:(0,m.parse)(e.content)}),(0,i.createElement)("div",{className:"formello-plugin-templates-list-item-title"},a)))})))))}var A=function(e){let{icon:t=S,label:o=(0,g.__)("Choose variation"),instructions:r=(0,g.__)("Select a variation to start with."),variations:n,onSelect:l,allowSkip:a,clientId:c}=e;const s=f()("block-editor-block-variation-picker",{"has-many-variations":n.length>4}),[p,u]=(0,i.useState)(!1);return(0,i.createElement)(d.Placeholder,{icon:t,label:o,instructions:r,className:s},(0,i.createElement)("ul",{className:"block-editor-block-variation-picker__variations",role:"list","aria-label":(0,g.__)("Block variations","formello")},n.map((e=>(0,i.createElement)("li",{key:e.name},(0,i.createElement)(d.Button,{isSecondary:!0,icon:e.icon,iconSize:48,onClick:()=>l(e),className:"block-editor-block-variation-picker__variation",label:e.description||e.title}),(0,i.createElement)("span",{className:"block-editor-block-variation-picker__variation-label",role:"presentation"},e.title))))),a&&(0,i.createElement)("div",{className:"block-editor-block-variation-picker__skip"},(0,i.createElement)(d.Button,{className:"plugin-formello-panel-button is-large",isPrimary:!0,onClick:()=>{u("templates")}},(0,g.__)("Open Library","formello")),(0,i.createElement)(d.Button,{isLink:!0,onClick:()=>l()},(0,g.__)("Skip","formello"))),"templates"===p&&(0,i.createElement)(O,{type:"remote",onRequestClose:()=>u(!1),clientId:c}))},R=e=>{const{attributes:t,setAttributes:o,showPreview:r}=e,{width:n,backgroundColor:l,gradientBackground:a,closeButtonColor:c,closeButtonSize:s,closeButtonAlignment:p,borderRadius:u,overlayColor:m,overlayOpacity:h,animation:f}=t,b=[{label:(0,g.__)("Inside","popper"),value:"inside"},{label:(0,g.__)("Outside","popper"),value:"outside"}];return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(x.PanelColorSettings,{title:(0,g.__)("Color Settings","popper"),colorSettings:[{value:l,onChange:e=>o({backgroundColor:e}),label:(0,g.__)("Background Color","popper")},{value:m,onChange:e=>o({overlayColor:e}),label:(0,g.__)("Overlay Color","popper"),enableAlpha:!0},{value:c,onChange:e=>o({closeButtonColor:e}),label:(0,g.__)("Close Button Color","popper")}]}),(0,i.createElement)(d.PanelBody,{title:(0,g.__)("Modal Appearance","popper"),initialOpen:!1},(0,i.createElement)(d.RangeControl,{value:u,label:(0,g.__)("Popup Border Radius","popper"),onChange:e=>{o({borderRadius:e})},allowReset:!0,min:0,max:100}),(0,i.createElement)(d.RangeControl,{value:n,label:(0,g.__)("Popup Width","popper"),onChange:e=>{o({width:e})},allowReset:!0,min:400,max:700}),(0,i.createElement)(d.RangeControl,{value:s,label:(0,g.__)("Close Icon Size","popper"),onChange:e=>{o({closeButtonSize:e})},allowReset:!0,min:12,max:40}),(0,i.createElement)(d.RadioControl,{label:(0,g.__)("Button position","popper"),onChange:e=>o({closeButtonAlignment:e}),selected:p,options:b}),(0,i.createElement)(d.SelectControl,{label:(0,g.__)("Animation","popper"),value:f,options:[{label:(0,g.__)("None","popper"),value:""},{label:(0,g.__)("Slide in Top","popper"),value:"slide-in-top"},{label:(0,g.__)("Slide in Bottom","popper"),value:"slide-in-bottom"},{label:(0,g.__)("Slide in Right","popper"),value:"slide-in-right"},{label:(0,g.__)("Slide in Left","popper"),value:"slide-in-left"},{label:(0,g.__)("Unfold In","popper"),value:"unfoldIn"},{label:(0,g.__)("Puff In","popper"),value:"puff-in"},{label:(0,g.__)("Puff In Back","popper"),value:"puff-in-back"}],onChange:e=>o({animation:e})})))},P=e=>{const{attributes:t,setAttributes:o}=e,{openBehaviour:r,anchor:n,waitTime:l,offset:a,target:c,pageviews:s}=t,p=[{label:(0,g.__)("Timer","popper"),value:"load"},{label:(0,g.__)("On Anchor Click","popper"),value:"anchor"},{label:(0,g.__)("On Target Visibility","popper"),value:"target"},{label:(0,g.__)("On Scroll","popper"),value:"scroll"},{label:(0,g.__)("On Page Views","popper"),value:"pageviews"},{label:(0,g.__)("On Exit Intent","popper"),value:"exit"}];return(0,i.createElement)(d.PanelBody,{initialOpen:!0,title:(0,g.__)("Open Behaviour","popper")},(0,i.createElement)(d.PanelRow,null,(0,i.createElement)(d.RadioControl,{onChange:e=>{o({openBehaviour:e})},selected:r,options:p})),(0,i.createElement)(d.PanelRow,null,"anchor"===r&&(0,i.createElement)(d.TextControl,{value:n,label:(0,g.__)("Anchor","popper"),help:(0,i.createElement)("small",null,(0,g.__)("You can add anchors to button blocks. Using the same anchor here will open the popup when you click the respective button.","popper")),onChange:e=>{o({anchor:e})}}),"target"===r&&(0,i.createElement)(d.TextControl,{value:c,label:(0,g.__)("Target","popper"),help:(0,i.createElement)("small",null,(0,g.__)("Show a popup when element with this anchor enter in viewport.","popper")),onChange:e=>{o({target:e})}}),"scroll"===r&&(0,i.createElement)(d.RangeControl,{label:(0,g.__)("Scroll Distance in Percent","popper"),help:(0,i.createElement)("small",null,(0,g.__)("Show the popup when this percentage of the page has been scrolled.")),beforeIcon:"image-flip-vertical",value:a,onChange:e=>{o({offset:e})},min:0,max:100}),"pageviews"===r&&(0,i.createElement)(d.RangeControl,{label:(0,g.__)("Number of pages","popper"),help:(0,i.createElement)("small",null,(0,g.__)("Show the popup when this number of pages has been visited.")),beforeIcon:"visibility",value:s,onChange:e=>{o({pageviews:e})},min:0,max:100}),"load"===r&&(0,i.createElement)(d.RangeControl,{label:(0,g.__)("Wait Time in Seconds","popper"),help:(0,i.createElement)("small",null,(0,g.__)("How much time to wait before showing the popup.")),beforeIcon:"clock",value:l,onChange:e=>{o({waitTime:e})},min:0,max:100}),"exit"===r&&(0,i.createElement)("small",null,(0,g.__)("Shows the popup when the user moves the mouse outside of the top of the window","popper"))))},j=e=>{const{attributes:t,setAttributes:o}=e,{showCloseButton:r,closeOnClickOutside:n,closeOnAnchorClick:l,closeAnchor:a,dismissForVisitors:c,dismissPeriod:s}=t,p=(e,t)=>{o({[e]:t})};return(0,i.createElement)(d.PanelBody,{initialOpen:!1,title:(0,g.__)("Close Behaviour","popper")},(0,i.createElement)(d.PanelRow,null,(0,i.createElement)(d.CheckboxControl,{label:(0,g.__)("Show Close Button","popper"),checked:r,onChange:e=>p("showCloseButton",e)})),(0,i.createElement)(d.PanelRow,null,(0,i.createElement)(d.CheckboxControl,{label:(0,g.__)("Close On Click Outside","popper"),checked:n,onChange:e=>p("closeOnClickOutside",e)})),(0,i.createElement)(d.PanelRow,null,(0,i.createElement)(d.CheckboxControl,{label:(0,g.__)("Close On Anchor Click","popper"),checked:l,onChange:e=>p("closeOnAnchorClick",e)})),l&&(0,i.createElement)(d.PanelRow,null,(0,i.createElement)(d.TextControl,{value:a,label:(0,g.__)("Anchor","popper"),help:(0,i.createElement)("small",null,(0,g.__)("You can add anchors to button blocks. Using the same anchor here will close the modal when you click the respective button.","popper")),onChange:e=>p("closeAnchor",e)})),(0,i.createElement)(d.PanelRow,null,(0,i.createElement)(d.CheckboxControl,{label:(0,g.__)("Dismiss for Recurrent Visitors","popper"),checked:c,onChange:e=>p("dismissForVisitors",e)})),c&&(0,i.createElement)(d.PanelRow,null,(0,i.createElement)(d.RangeControl,{value:s,label:(0,g.__)("Number of Days Until the Notice is Shown again","popper"),onChange:e=>{o({dismissPeriod:e})},min:0,max:100})))};const T={};T.borderRadiusNone=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),T.borderRadiusSmall=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"2",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),T.borderRadiusMedium=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"10",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),T.borderRadiusLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"20",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),T.borderRadiusXLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"118",rx:"50",stroke:"currentColor",width:"118",x:"-51",y:"-48",strokeWidth:"10"}))))),T.borderWidthNone=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("path",{d:"m16 16h68v68h-68z",fill:"none",transform:"matrix(1 0 0 1 2 2)"})),T.borderWidthSmall=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16"}))))),T.borderWidthMedium=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16",strokeWidth:"4"}))))),T.borderWidthLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16",strokeWidth:"6"}))))),T.borderWidthXLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("defs",null,(0,i.createElement)("rect",{height:"100",width:"100",x:"0",y:"0"})),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("g",null,(0,i.createElement)("mask",{fill:"#fff"},(0,i.createElement)("use",{xlinkHref:"#path-1"})),(0,i.createElement)("use",{stroke:"#fff",strokeWidth:"3",xlinkHref:"#path-1"}),(0,i.createElement)("rect",{height:"68",stroke:"currentColor",width:"68",x:"16",y:"16",strokeWidth:"10"}))))),T.boxShadowNone=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("path",{d:"m16 16h68v68h-68z",fill:"#fff",stroke:"#000",transform:"matrix(1 0 0 1 2 2)",strokeWidth:"3"})),T.boxShadowSmall=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m12 13h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),T.boxShadowMedium=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m19 20h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),T.boxShadowLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m23 24h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),T.boxShadowXLarge=(0,i.createElement)("svg",{viewBox:"0 0 104 104"},(0,i.createElement)("g",{fill:"none",transform:"matrix(1 0 0 1 2 2)"},(0,i.createElement)("path",{d:"m32 32h68v68h-68z",fill:"#d8d8d8"}),(0,i.createElement)("path",{d:"m6 7h68v68h-68z",fill:"#fff",stroke:"#000",strokeWidth:"3"}))),T.borderWidth=(0,i.createElement)("svg",{fill:"currentColor",height:"20px",version:"1.1",viewBox:"0 0 24 24",width:"20px",x:"0px",y:"0px"},(0,i.createElement)("title",null,"content_040-no_border-table-cell-square"),(0,i.createElement)("desc",null,"Created with Sketch."),(0,i.createElement)("g",{fill:"none",stroke:"none",strokeWidth:"1",fillRule:"evenodd"},(0,i.createElement)("g",{fill:"currentColor",transform:"matrix(1 0 0 1 -476 -188)"},(0,i.createElement)("g",{transform:"matrix(1 0 0 1 477 189)"},(0,i.createElement)("rect",{height:"1",width:"2",x:"0",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"8",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"4",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"12",y:"0"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"7"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"3"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"8"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"0"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"4"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"11"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"15"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"0",y:"19"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"12"}),(0,i.createElement)("rect",{height:"2",width:"1",x:"20",y:"16"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"19",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"3",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"7",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"11",y:"20"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"16",y:"0"}),(0,i.createElement)("rect",{height:"1",width:"2",x:"15",y:"20"}))))),T.borderRadius=(0,i.createElement)("svg",{height:"20px",viewBox:"0 0 66 66",width:"20px"},(0,i.createElement)("path",{d:"m457 596.97658v5.02342c0 .552285-.447715 1-1 1h-12c-.552285 0-1-.447715-1-1v-5h-14.996435c-6.077067 0-11.003565-4.926533-11.003565-11.003565v-37.99287c0-6.077067 4.926533-11.003565 11.003565-11.003565h37.99287c6.077067 0 11.003565 4.926533 11.003565 11.003565v14.996435h5c.552285 0 1 .447715 1 1v12c0 .552285-.447715 1-1 1h-5.023422c-.506685 10.803114-9.172511 19.469882-19.976578 19.97658zm-12 4.02342h10v-10h-10zm26-26h10v-10h-10zm-28 20v-5c0-.552285.447715-1 1-1h12c.552285 0 1 .447715 1 1v4.974104c9.699148-.5031 17.471015-8.275803 17.974102-17.974104h-4.974102c-.552285 0-1-.447715-1-1v-12c0-.552285.447715-1 1-1h5v-14.996435c0-4.972466-4.03107-9.003565-9.003565-9.003565h-37.99287c-4.972466 0-9.003565 4.03107-9.003565 9.003565v37.99287c0 4.972466 4.03107 9.003565 9.003565 9.003565z",transform:"matrix(1 0 0 1 -417 -537)",fillRule:"evenodd"})),T.boxShadow=(0,i.createElement)("svg",{height:"20px",viewBox:"0 0 100 100",width:"20px",enableBackground:"new 0 0 100 100"},(0,i.createElement)("path",{d:"m92.5 21.233h-13.733v-13.733c0-1.381-1.119-2.5-2.5-2.5h-68.767c-1.381 0-2.5 1.119-2.5 2.5v68.767c0 1.381 1.119 2.5 2.5 2.5h13.733v13.733c0 1.381 1.119 2.5 2.5 2.5h68.767c.164 0 .328-.017.489-.049.075-.015.145-.043.217-.064.084-.025.168-.044.249-.077.086-.036.164-.084.245-.129.062-.034.126-.061.185-.101.275-.183.51-.419.694-.694.039-.058.065-.122.099-.182.045-.082.094-.161.13-.248.033-.081.052-.165.077-.248.022-.073.05-.143.065-.219.033-.161.05-.325.05-.489v-68.767c0-1.38-1.119-2.5-2.5-2.5zm-82.5 52.534v-63.767h63.767v13.733 50.033h-50.034-13.733zm16.233 16.233v-7.698l7.699 7.698zm14.769 0-11.233-11.233h6.063l11.233 11.233zm13.133 0-11.233-11.233h6.063l11.233 11.233zm13.134 0-11.234-11.233h6.063l11.234 11.233zm13.133 0-11.234-11.233h6.063l11.234 11.233zm9.598-3.535-11.233-11.234v-6.063l11.233 11.234zm0-13.133-11.233-11.234v-6.063l11.233 11.234zm0-13.134-11.233-11.233v-6.063l11.233 11.233zm0-13.133-11.233-11.233v-6.063l11.233 11.233zm0-13.133-7.698-7.698h7.698z"})),T.plugin=(0,i.createElement)("svg",{height:"20px",viewBox:"0 0 100 100",width:"20px",enableBackground:"new 0 0 100 100"},(0,i.createElement)("path",{d:"m27.751 67.15-.001-4.54-16.454.033c-3.027.017-5.475-2.431-5.478-5.47v-35.232c.003-3.014 2.451-5.462 5.453-5.462 1.313 0 2.521.469 3.441 1.225l15.019 15.069c1.434 1.484 2.331 3.479 2.318 5.568l-.033 20.008 4.595.026-.001-15.947c.011-2.975 2.459-5.423 5.51-5.43l16.99.028v-4.742l-19.718.03c-2.173 0-4.168-.897-5.582-2.264l-15.39-15.078c-1.075-.938-1.807-2.414-1.807-4.055 0-3.002 2.448-5.45 5.526-5.415h35.67c3.099-.035 5.548 2.413 5.544 5.212l.024 17.276 4.386.056-.01-11.806c-.002-3.042 2.519-5.49 5.442-5.49 1.37 0 2.638.538 3.672 1.435l10.798 10.549c.974.952 1.913 2.361 1.913 4.096 0 3.002-2.448 5.457-5.33 5.467l-12.163.043v4.658l16.678-.037c2.984-.007 5.433 2.419 5.418 5.451l-.011 35.698c-.001 3.088-2.445 5.537-5.447 5.537-1.595 0-2.99-.732-3.995-1.735l-14.585-14.56c-1.447-1.444-2.376-3.411-2.377-5.455l-.004-20.661-4.414.084.016 15.931c.015 2.96-2.433 5.4-5.411 5.392l-17.076-.047.004 4.596 19.44-.016c2.225-.002 4.206.933 5.57 2.301l15.985 16.035c.868.87 1.242 2.163 1.242 3.476 0 3.002-2.448 5.45-5.546 5.471l-35.508.041c-3.102.02-5.55-2.428-5.507-5.539l.068-17.508-4.598.029.023 11.997c.013 3.031-2.435 5.479-5.437 5.479-1.407 0-2.692-.538-3.642-1.401l-11.506-11.45c-.76-.919-1.215-2.126-1.187-3.44.063-3.002 2.448-5.45 5.331-5.482l12.135-.032m-.022-28.553c-.029-1.116-.492-2.146-1.173-2.829l-14.453-14.638c-.217-.23-.506-.36-.824-.36-.637 0-1.156.519-1.163 1.258v35.089c.008.726.527 1.245 1.213 1.233l16.429-.032zm30.179 19.754-16.997-.009-.004-15.875c.016-.652.535-1.171 1.199-1.183l16.983.033-.007 15.87c.011.657-.509 1.164-1.174 1.164zm20.542 29.772-15.306-15.381c-.709-.712-1.703-1.255-2.816-1.257l-19.44-.034-.035 17.565c-.039.688.481 1.207 1.101 1.192l35.763-.041c.594-.025 1.113-.544 1.113-1.181 0-.319-.128-.61-.38-.863zm-41.859-25.516-.005 4.515-4.553.053.017-4.515zm-8.824 20.809.01-11.91-12.062-.013c-.617.014-1.136.533-1.136 1.17 0 .318.13.607.33.829l10.697 10.625c.263.34.615.543 1.013.543.637-.001 1.156-.52 1.148-1.244zm31.303-72.658.019 17.284-19.526-.021c-1.164-.004-2.194-.467-2.942-1.164l-15.306-15.09c-.199-.104-.402-.456-.402-.854 0-.637.519-1.156 1.158-1.125h35.88c.598-.031 1.118.488 1.119.97zm8.7 26.237.028-4.63-4.414-.056v4.658zm17.168-10.999-10.825-10.723c-.162-.252-.514-.455-.912-.455-.637 0-1.156.519-1.152 1.203l.043 12.021 12.037-.038c.642-.022 1.161-.541 1.161-1.178.001-.318-.129-.607-.352-.83zm4.97 16.382c0-.637-.519-1.156-1.247-1.131l-16.597.014-.004 20.39c0 .834.51 1.821 1.194 2.514l14.571 14.741c.201.203.507.443.904.443.637 0 1.156-.519 1.157-1.168l.001-35.906",fillRule:"evenodd",clipRule:"evenodd"})),T.button=(0,i.createElement)("svg",{viewBox:"0 0 16 16"},(0,i.createElement)("path",{d:"M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"}));var z=T,N=(0,i.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(C.Path,{d:"M20 9h-7.2V4h-1.6v5H4v6h7.2v5h1.6v-5H20z"}));function I(e){const{attributes:t,setAttributes:o,onSelectImage:r,className:n,style:l,attributes:{borderRadius:a,boxShadow:c,type:s,align:p}}=e,[u,m]=(0,i.useState)(N);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(x.BlockControls,null,(0,i.createElement)(d.ToolbarGroup,null,(0,i.createElement)(x.__experimentalBlockAlignmentMatrixControl,{value:t.align,onChange:e=>o({align:e}),label:(0,g.__)("Position","popper")}),(0,i.createElement)(d.ToolbarDropdownMenu,{icon:z.boxShadow,label:(0,g.__)("Box shadow","popper"),controls:[{label:(0,g.__)("None","popper"),title:"None",icon:z.boxShadowNone,isActive:"wp-block-popper__shadow-none"===t.boxShadow,onClick:()=>o({boxShadow:"wp-block-popper__shadow-none"})},{label:(0,g.__)("Small","popper"),title:"Small",icon:z.boxShadowSmall,isActive:"wp-block-popper__shadow-sm"===t.boxShadow,onClick:()=>o({boxShadow:"wp-block-popper__shadow-sm"})},{label:(0,g.__)("Medium","popper"),title:"Medium",icon:z.boxShadowMedium,isActive:"wp-block-popper__shadow-md"===t.boxShadow,onClick:()=>o({boxShadow:"wp-block-popper__shadow-md"})},{label:(0,g.__)("Large","popper"),title:"Large",icon:z.boxShadowLarge,isActive:"wp-block-popper__shadow-lg"===t.boxShadow,onClick:()=>o({boxShadow:"wp-block-popper__shadow-lg"})},{label:(0,g.__)("X-Large","popper"),title:"X-Large",icon:z.boxShadowXLarge,isActive:"wp-block-popper__shadow-xl"===t.boxShadow,onClick:()=>o({boxShadow:"wp-block-popper__shadow-xl"})}]}),(0,i.createElement)(d.ToolbarDropdownMenu,{icon:z.borderRadius,label:(0,g.__)("Border radius","popper"),controls:[{label:(0,g.__)("None","popper"),title:"None",icon:z.borderRadiusNone,isActive:0===t.borderRadius,onClick:()=>o({borderRadius:0})},{label:(0,g.__)("Small","popper"),title:"Small",icon:z.borderRadiusSmall,isActive:20===t.borderRadius,onClick:()=>o({borderRadius:2})},{label:(0,g.__)("Medium","popper"),title:"Medium",icon:z.borderRadiusMedium,isActive:4===t.borderRadius,onClick:()=>o({borderRadius:4})},{label:(0,g.__)("Large","popper"),title:"Large",icon:z.borderRadiusLarge,isActive:8===t.borderRadius,onClick:()=>o({borderRadius:8})},{label:(0,g.__)("X-Large","popper"),title:"X-Large",icon:z.borderRadiusXLarge,isActive:24===t.borderRadius,onClick:()=>o({borderRadius:24})}]}))))}(0,i.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(C.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"})),(0,i.createElement)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(C.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"}));function W(e){const{attributes:t,setAttributes:o,className:r,clientId:n}=e,l=(()=>{const e=(0,c.useSelect)((e=>e("core/editor").isSavingPost())),[t,o]=(0,i.useState)(e);if(t){if(!e)return o(!1),!0}else e&&o(!0);return!1})(),{width:a,backgroundColor:s,gradientBackground:p,showCloseButton:u,closeButtonColor:m,closeButtonSize:h,closeButtonAlignment:b,borderRadius:v,boxShadow:E,overlayColor:w,overlayOpacity:k,uuid:C}=t,S=(0,c.select)("core/editor").getEditedPostAttribute("meta");l&&(console.log("Post Save Finished"),S.popper_rules.location.length||(0,c.dispatch)("core/notices").createNotice("warning","This popup has no rules assigned. Please select at least one option.",{id:"popper",isDismissible:!0})),(0,i.useEffect)((()=>{o({uuid:B})}),[]);const B=(0,c.useSelect)((e=>e("core/editor").getCurrentPostId())),{hasInnerBlocks:A}=(0,c.useSelect)((e=>{const{getBlock:t,getSettings:o}=e(x.store),r=t(n);return{hasInnerBlocks:!(!r||!r.innerBlocks.length)}}),[n]),[T,z]=(0,i.useState)(!1),[N,W]=(0,i.useState)(!1),M={minWidth:a,width:a},F={};p&&(M.background=p),m&&(F.color=m,F.fontSize=h,F.width=h,F.height=h),"outside"===b&&(F.top=-1*(h+4),F.right=0);const H=f()("wp-block-popper__container",E),D={minWidth:a,width:a,borderRadius:v};return s&&(D.backgroundColor=s),p&&(D.background=p),(0,i.createElement)("div",_({},(0,x.useBlockProps)(),{style:M}),(0,i.createElement)(x.InspectorControls,null,(0,i.createElement)(P,e),(0,i.createElement)(j,e),(0,i.createElement)(R,e)),(0,i.createElement)(x.BlockControls,null,(0,i.createElement)(d.ToolbarGroup,null,(0,i.createElement)(d.ToolbarButton,{label:(0,g.__)("Template","popper"),icon:"layout",onClick:()=>{z("templates")}})),(0,i.createElement)(d.ToolbarGroup,null,(0,i.createElement)(d.ToolbarButton,{label:(0,g.__)("Display Rules","popper"),icon:"visibility",onClick:()=>{z("options")}})),(0,i.createElement)(I,{attributes:t,setAttributes:o,style:M})),(0,i.createElement)("div",null,(0,i.createElement)(i.Fragment,null,u&&(0,i.createElement)("button",{className:"wp-block-popper__close",style:F}),(0,i.createElement)("div",_({},(0,x.useBlockProps)(),{className:H,style:D}),(0,i.createElement)(x.InnerBlocks,{templateLock:!1,renderAppender:A?void 0:(0,i.createElement)(x.InnerBlocks.ButtonBlockAppender,null)})))),"templates"===T&&(0,i.createElement)(O,{type:"remote",onRequestClose:()=>z(!1),clientId:n}),"options"===T&&(0,i.createElement)(y,{onRequestClose:()=>z(!1)}))}function M(e){const{className:t,name:o,defaultVariation:r,hasInnerBlocks:n,clientId:l}=e,{insertBlock:a,replaceInnerBlocks:s}=(0,c.dispatch)("core/block-editor"),p=(0,c.useSelect)((e=>{const{getBlockType:t,getBlockVariations:r,getDefaultBlockVariation:n}=e("core/blocks");return r(o,"block")}),[o]);return(0,i.createElement)("div",(0,x.useBlockProps)(),(0,i.createElement)(A,{icon:"external",label:"Popup",instructions:(0,g.__)("Select a form to start with.","popper"),variations:p,clientId:l,allowSkip:!0,onSelect:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;t.attributes&&setAttributes(t.attributes),t.innerBlocks&&s(e.clientId,(0,m.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!0)}}))}window.wp.hooks;var F=JSON.parse('{"apiVersion":2,"name":"formello/popper","title":"Pop up","category":"widgets","description":"A great popup block.","supports":{"html":false,"multiple":false,"className":true,"reusable":false,"spacing":{"padding":true,"margin":true}},"attributes":{"lock":{"type":"object","default":{"move":true,"remove":true}},"align":{"type":"string","default":"center center"},"fullPage":{"type":"boolean","default":false},"width":{"type":"number","default":500},"waitTime":{"type":"number","default":1},"offset":{"type":"number","default":20},"openBehaviour":{"type":"string","default":"load"},"showCloseButton":{"type":"boolean","default":true},"closeButtonAlignment":{"type":"string","default":"inside"},"closeButtonSize":{"type":"number","default":20},"animation":{"type":"string"},"borderRadius":{"type":"number","default":3},"boxShadow":{"type":"string","default":"wp-block-popper__shadow-md"},"closeOnClickOutside":{"type":"boolean","default":true},"closeOnAnchorClick":{"type":"boolean","default":false},"closeAnchor":{"type":"string"},"anchor":{"type":"string","default":""},"target":{"type":"string","default":""},"backgroundColor":{"type":"string","default":"#ffffff"},"closeButtonColor":{"type":"string","default":"#000000"},"overlayColor":{"type":"string","default":"#000000bf"},"gradientBackground":{"type":"string"},"dismissForVisitors":{"type":"boolean","default":true},"dismissPeriod":{"type":"number","default":1},"pageviews":{"type":"number","default":3},"uuid":{"type":"number","default":null}},"editorScript":"file:./build/index.js","editorStyle":"file:./build/index.css","style":"file:./build/style-index.css","viewScript":"file:./build/frontend.js"}');const H=[{attributes:{width:{type:"number",default:""},waitTime:{type:"number",default:1},offset:{type:"number",default:20},openBehaviour:{type:"string",default:"load"},showCloseButton:{type:"boolean",default:!0},closeButtonAlignment:{type:"string",default:"right"},closeButtonColor:{type:"string",default:"#000000"},overlayColor:{type:"string",default:"#000000"},overlayOpacity:{type:"number",default:75},closeButtonSize:{type:"number",default:20},borderRadius:{type:"number",default:3},boxShadow:{type:"string",default:"shadow-md"},closeOnClickOutside:{type:"boolean",default:!0},closeOnAnchorClick:{type:"boolean",default:!1},closeAnchor:{type:"string"},anchor:{type:"string",default:""},target:{type:"string",default:""},backgroundColor:{type:"string"},gradientBackground:{type:"string"},dismissForVisitors:{type:"boolean",default:!0},dismissPeriod:{type:"number",default:20},uuid:{type:"number",default:null}},save(e){let{attributes:t}=e;const{width:o,anchor:r,target:n,waitTime:l,offset:a,openBehaviour:c,backgroundColor:s,gradientBackground:p,closeButtonColor:u,closeButtonSize:m,borderRadius:d,overlayColor:h,overlayOpacity:g,closeAnchor:b,closeOnClickOutside:v,closeOnAnchorClick:E,dismissForVisitors:w,dismissPeriod:k,uuid:y}=t,_={minWidth:o,borderRadius:d};s&&(_.backgroundColor=s),p&&(_.background=p);const C={color:u,fontSize:m};return f()("popper__container"),(0,i.createElement)("div",{"data-open":c,"data-anchor":"anchor"===c?r:"","data-target":"target"===c?n:"","data-anchorclose":E?b:"","data-time":"load"===c?l:"","data-dismiss":w?k:"","data-offset":"scroll"===c?a:"","data-outside":v,"data-created":y,id:"modal-"+y,"aria-hidden":"true",className:"popper"},(0,i.createElement)("div",{className:"popper__overlay",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,"+g/100+")"}},(0,i.createElement)("div",{className:"popper__container",role:"dialog","aria-modal":"true","aria-labelledby":"modal-1-title",style:_},(0,i.createElement)("button",{className:"popper__close","aria-label":"Close modal",style:C}),(0,i.createElement)("main",{className:"popper__content"},(0,i.createElement)(x.InnerBlocks.Content,null)))))}}];var D=H,L=[{name:"simple",title:(0,g.__)("Basic"),description:(0,g.__)("Basic popup"),icon:(0,i.createElement)(d.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(d.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m39.0625 14h-30.0625v20.0938h30.0625zm-30.0625-2c-1.10457 0-2 .8954-2 2v20.0938c0 1.1045.89543 2 2 2h30.0625c1.1046 0 2-.8955 2-2v-20.0938c0-1.1046-.8954-2-2-2z"})),innerBlocks:[["core/group",{backgroundColor:"ffffff"}]],scope:["block"]},{name:"With image",title:(0,g.__)("Left Image"),description:(0,g.__)("Image on the left"),icon:(0,i.createElement)(d.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(d.Path,{d:"M3 18h8V6H3v12zM14 7.5V9h7V7.5h-7zm0 5.3h7v-1.5h-7v1.5zm0 3.7h7V15h-7v1.5z"})),innerBlocks:[["core/media-text",{mediaPosition:"left",verticalAlignment:"center",mediaType:"image",mediaUrl:"https://images.unsplash.com/photo-1525507119028-ed4c629a60a3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=435&q=80"},[["core/heading",{textAlign:"center",placeholder:"Your claim...",fontSize:"large",content:"30% off coupon"}],["core/paragraph",{align:"center",placeholder:"Your claim...",content:"If you're looking for a new way to promote your business."}],["core/buttons",{contentJustification:"center"},[["core/button",{text:"SHOP NOW",style:{color:{background:"#28a7d9"}}}]]]]]],scope:["block"]},{name:"button",title:(0,g.__)("With buttons"),description:(0,g.__)("Popup with buttons and image"),icon:(0,i.createElement)(d.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(d.Path,{d:"M19 6.5H5c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7c0-1.1-.9-2-2-2zm.5 9c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v7zM8 12.8h8v-1.5H8v1.5z"})),innerBlocks:[["core/group",{style:{color:{background:"#fff"}}},[["core/image",{align:"center",width:234,height:291,url:"https://www.pngfind.com/pngs/m/525-5253539_3d-book-template-1-ebook-image-png-transparent.png"},[]],["core/heading",{textAlign:"center",placeholder:"Your claim...",fontSize:"large",content:"My secret SEO strategy"}],["core/paragraph",{align:"center",placeholder:"Your claim...",content:"If you're looking for a fast way to rank high on Google."}],["core/buttons",{contentJustification:"center"},[["core/button",{text:"No thanks",style:{color:{background:"#fff",text:"#000"}}}],["core/button",{text:"DOWNLOAD NOW",style:{color:{background:"#28a7d9"}}}]]]]]],scope:["block"]}],V=window.wp.blockSerializationDefaultParser;const{__:__}=wp.i18n,{addFilter:q}=wp.hooks,{InspectorAdvancedControls:G}=wp.editor,{createHigherOrderComponent:U}=wp.compose,X=U((e=>t=>{if(!["core/image","core/button"].includes(t.name))return(0,i.createElement)(e,t);const o=[{value:null,label:__("Select a popup","popper")}],r=(0,c.useSelect)((e=>e("core").getEntityRecords("postType","popper",{per_page:-1})));null!==r&&r.map((e=>{o.push({value:e.id,label:e.title.raw})}));const{attributes:n,setAttributes:l,isSelected:a}=t,{popper:s}=n;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(e,t),a&&(0,i.createElement)(G,null,(0,i.createElement)(d.SelectControl,{label:__("Open popup"),value:s,options:o,onChange:e=>{l({popper:e}),(e=>{let t=(e=>r.find((t=>t.ID==e)))(e);if(t){t=(0,V.parse)(t.post_content);var o=t[0].attrs;"anchor"===o.openBehaviour&&l({anchor:o.anchor})}})(e)},help:__("Open a popup on anchor click","popper")})))}),"withAdvancedControls");q("editor.BlockEdit","formello/popper-advanced-control",X),q("blocks.registerBlockType","formello/popper-custom-attributes",(function(e){return["core/image","core/button"].includes(e.name)&&(e.attributes=Object.assign(e.attributes,{popper:{type:"numeric",default:null}})),e}));function Y(e){return e.templates}function $(e,t){return e.templatesData[t]}function J(e){return{type:"API_FETCH",request:e}}function K(e){return{type:"SET_TEMPLATES",templates:e}}function Q(e){return{type:"SET_TEMPLATE_DATA",data:e}}function Z(e){let{request:t}=e;return v()(t).then((e=>!!(e&&e.success&&e.response)&&e.response))}function*ee(){return K(yield J({path:"/popper/v1/get_templates"}))}function*te(e){const t=`/popper/v1/get_template_data/?id=${e}`,o=yield J({path:t});return o.id||(o.id=e),Q(o)}(0,c.registerStore)("formello/popper-templates",{reducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{templates:!1,templatesData:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TEMPLATES":!e.templates&&t.templates&&(e.templates=t.templates);break;case"SET_TEMPLATE_DATA":t.templatesData&&t.templatesData.id&&!e.templatesData[t.templatesData.id]&&(e.templatesData[t.templatesData.id]=t.templatesData)}return e},selectors:r,actions:n,controls:l,resolvers:a});const{name:oe,attributes:re,supports:ne}=F;(0,m.registerBlockType)(oe,{apiVersion:2,icon:"external",attributes:re,variations:L,supports:ne,edit:e=>{const{clientId:t,name:o}=e,r=(0,c.useSelect)((e=>{const{getBlock:o}=e("core/block-editor"),r=o(t);return!(!r||!r.innerBlocks.length)}),[t])?W:M;return(0,i.createElement)(r,e)},save:function(e){let{attributes:t,className:o}=e;const{type:r,width:n,anchor:l,target:a,waitTime:c,offset:s,openBehaviour:p,backgroundColor:u,gradientBackground:m,closeButtonColor:d,closeButtonSize:h,closeButtonAlignment:g,borderRadius:b,boxShadow:v,overlayColor:E,overlayOpacity:w,closeAnchor:k,closeOnClickOutside:y,closeOnAnchorClick:C,dismissForVisitors:S,dismissPeriod:B,showCloseButton:O,pageviews:A,animation:R,align:P,uuid:j}=t,T={width:n,borderRadius:b};u&&(T.backgroundColor=u),m&&(T.background=m);const z={color:d,fontSize:h,width:h,height:h};"outside"===g&&(z.top=-1*(h+4),z.right=0);const N=f()("wp-block-popper",o,{"wp-block-popper--right":P.includes("right"),"wp-block-popper--left":P.includes("left"),"wp-block-popper--top":P.includes("top"),"wp-block-popper--bottom":P.includes("bottom")}),I=f()("wp-block-popper__container",v,{"wp-block-popper__animate":!!R});return R&&(T["--popper-animation"]=R),(0,i.createElement)("div",_({"data-open":p,"data-anchor":"anchor"===p?l:"","data-target":"target"===p?a:"","data-anchorclose":C?k:"","data-time":"load"===p?c:"","data-dismiss":S?B:"","data-offset":"scroll"===p?s:"","data-pagenum":"pageviews"===p?A:"","data-outside":y,"data-created":j,id:"modal-"+j,"aria-hidden":"true"},x.useBlockProps.save({className:N})),"center center"===P&&(0,i.createElement)("div",{className:"wp-block-popper__overlay",tabIndex:"-1",style:{backgroundColor:E}}),(0,i.createElement)("div",{className:I,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title",style:T},O&&(0,i.createElement)("button",{className:"wp-block-popper__close","aria-label":"Close modal",style:z}),(0,i.createElement)("main",{className:"wp-block-popper__content"},(0,i.createElement)(x.InnerBlocks.Content,null))))},deprecated:D})},184:function(e,t){var o;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&e.push(a)}}else if("object"===l)if(o.toString===Object.prototype.toString)for(var i in o)r.call(o,i)&&o[i]&&e.push(i);else e.push(o.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},705:function(e,t,o){var r=o(639).Symbol;e.exports=r},636:function(e,t,o){var r=o(545),n=o(694),l=o(469),a=o(144),i=o(776),c=o(719),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var o=l(e),p=!o&&n(e),u=!o&&!p&&a(e),m=!o&&!p&&!u&&c(e),d=o||p||u||m,h=d?r(e.length,String):[],f=h.length;for(var g in e)!t&&!s.call(e,g)||d&&("length"==g||u&&("offset"==g||"parent"==g)||m&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,f))||h.push(g);return h}},932:function(e){e.exports=function(e,t){for(var o=-1,r=null==e?0:e.length,n=Array(r);++o<r;)n[o]=t(e[o],o,e);return n}},848:function(e){e.exports=function(e,t,o,r){for(var n=e.length,l=o+(r?1:-1);r?l--:++l<n;)if(t(e[l],l,e))return l;return-1}},239:function(e,t,o){var r=o(705),n=o(607),l=o(333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?n(e):l(e)}},118:function(e,t,o){var r=o(848),n=o(722),l=o(351);e.exports=function(e,t,o){return t==t?l(e,t,o):r(e,n,o)}},454:function(e,t,o){var r=o(239),n=o(5);e.exports=function(e){return n(e)&&"[object Arguments]"==r(e)}},722:function(e){e.exports=function(e){return e!=e}},749:function(e,t,o){var r=o(239),n=o(780),l=o(5),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return l(e)&&n(e.length)&&!!a[r(e)]}},280:function(e,t,o){var r=o(726),n=o(916),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return n(e);var t=[];for(var o in Object(e))l.call(e,o)&&"constructor"!=o&&t.push(o);return t}},545:function(e){e.exports=function(e,t){for(var o=-1,r=Array(e);++o<e;)r[o]=t(o);return r}},561:function(e,t,o){var r=o(990),n=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(n,""):e}},518:function(e){e.exports=function(e){return function(t){return e(t)}}},415:function(e,t,o){var r=o(932);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},957:function(e,t,o){var r="object"==typeof o.g&&o.g&&o.g.Object===Object&&o.g;e.exports=r},607:function(e,t,o){var r=o(705),n=Object.prototype,l=n.hasOwnProperty,a=n.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=l.call(e,i),o=e[i];try{e[i]=void 0;var r=!0}catch(e){}var n=a.call(e);return r&&(t?e[i]=o:delete e[i]),n}},776:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,o){var r=typeof e;return!!(o=null==o?9007199254740991:o)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<o}},726:function(e){var t=Object.prototype;e.exports=function(e){var o=e&&e.constructor;return e===("function"==typeof o&&o.prototype||t)}},916:function(e,t,o){var r=o(569)(Object.keys,Object);e.exports=r},167:function(e,t,o){e=o.nmd(e);var r=o(957),n=t&&!t.nodeType&&t,l=n&&e&&!e.nodeType&&e,a=l&&l.exports===n&&r.process,i=function(){try{return l&&l.require&&l.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i},333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},569:function(e){e.exports=function(e,t){return function(o){return e(t(o))}}},639:function(e,t,o){var r=o(957),n="object"==typeof self&&self&&self.Object===Object&&self,l=r||n||Function("return this")();e.exports=l},351:function(e){e.exports=function(e,t,o){for(var r=o-1,n=e.length;++r<n;)if(e[r]===t)return r;return-1}},990:function(e){var t=/\s/;e.exports=function(e){for(var o=e.length;o--&&t.test(e.charAt(o)););return o}},721:function(e,t,o){var r=o(118),n=o(612),l=o(37),a=o(554),i=o(628),c=Math.max;e.exports=function(e,t,o,s){e=n(e)?e:i(e),o=o&&!s?a(o):0;var p=e.length;return o<0&&(o=c(p+o,0)),l(e)?o<=p&&e.indexOf(t,o)>-1:!!p&&r(e,t,o)>-1}},694:function(e,t,o){var r=o(454),n=o(5),l=Object.prototype,a=l.hasOwnProperty,i=l.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return n(e)&&a.call(e,"callee")&&!i.call(e,"callee")};e.exports=c},469:function(e){var t=Array.isArray;e.exports=t},612:function(e,t,o){var r=o(560),n=o(780);e.exports=function(e){return null!=e&&n(e.length)&&!r(e)}},144:function(e,t,o){e=o.nmd(e);var r=o(639),n=o(62),l=t&&!t.nodeType&&t,a=l&&e&&!e.nodeType&&e,i=a&&a.exports===l?r.Buffer:void 0,c=(i?i.isBuffer:void 0)||n;e.exports=c},560:function(e,t,o){var r=o(239),n=o(218);e.exports=function(e){if(!n(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},780:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},37:function(e,t,o){var r=o(239),n=o(469),l=o(5);e.exports=function(e){return"string"==typeof e||!n(e)&&l(e)&&"[object String]"==r(e)}},448:function(e,t,o){var r=o(239),n=o(5);e.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},719:function(e,t,o){var r=o(749),n=o(518),l=o(167),a=l&&l.isTypedArray,i=a?n(a):r;e.exports=i},674:function(e,t,o){var r=o(636),n=o(280),l=o(612);e.exports=function(e){return l(e)?r(e):n(e)}},62:function(e){e.exports=function(){return!1}},601:function(e,t,o){var r=o(841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},554:function(e,t,o){var r=o(601);e.exports=function(e){var t=r(e),o=t%1;return t==t?o?t-o:t:0}},841:function(e,t,o){var r=o(561),n=o(218),l=o(448),a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(l(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var o=i.test(e);return o||c.test(e)?s(e.slice(2),o?2:8):a.test(e)?NaN:+e}},628:function(e,t,o){var r=o(415),n=o(674);e.exports=function(e){return null==e?[]:r(e,n(e))}}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var l=o[e]={id:e,loaded:!1,exports:{}};return t[e](l,l.exports,r),l.loaded=!0,l.exports}r.m=t,e=[],r.O=function(t,o,n,l){if(!o){var a=1/0;for(p=0;p<e.length;p++){o=e[p][0],n=e[p][1],l=e[p][2];for(var i=!0,c=0;c<o.length;c++)(!1&l||a>=l)&&Object.keys(r.O).every((function(e){return r.O[e](o[c])}))?o.splice(c--,1):(i=!1,l<a&&(a=l));if(i){e.splice(p--,1);var s=n();void 0!==s&&(t=s)}}return t}l=l||0;for(var p=e.length;p>0&&e[p-1][2]>l;p--)e[p]=e[p-1];e[p]=[o,n,l]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={826:0,46:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,l,a=o[0],i=o[1],c=o[2],s=0;if(a.some((function(t){return 0!==e[t]}))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(c)var p=c(r)}for(t&&t(o);s<a.length;s++)l=a[s],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(p)},o=self.webpackChunkpopper=self.webpackChunkpopper||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var n=r.O(void 0,[46],(function(){return r(663)}));n=r.O(n)}();